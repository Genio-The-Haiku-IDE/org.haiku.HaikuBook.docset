<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: BMidiConsumer Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBMidiConsumer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BMidiConsumer Class Reference<div class="ingroups"><a class="el" href="group__midi2.html">MIDI 2 Kit</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Receives MIDI events from a producer.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;MidiConsumer.h&gt;</code></p>

<p>Inherits <a class="el" href="classBMidiEndpoint.html">BMidiEndpoint</a>.</p>

<p>Inherited by <a class="el" href="classBMidiLocalConsumer.html">BMidiLocalConsumer</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a11a23be136f1eaa0f797d1e8b5b4e460" id="r_a11a23be136f1eaa0f797d1e8b5b4e460"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#a29bb8e432e460af113ef8938cef96f8b">bigtime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11a23be136f1eaa0f797d1e8b5b4e460">Latency</a> () const</td></tr>
<tr class="memdesc:a11a23be136f1eaa0f797d1e8b5b4e460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the latency of this consumer.  <br /></td></tr>
<tr class="separator:a11a23be136f1eaa0f797d1e8b5b4e460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBMidiEndpoint"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classBMidiEndpoint')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBMidiEndpoint.html">BMidiEndpoint</a></td></tr>
<tr class="memitem:a504efce89310e4473c4a9ae77da7a641 inherit pub_methods_classBMidiEndpoint" id="r_a504efce89310e4473c4a9ae77da7a641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a504efce89310e4473c4a9ae77da7a641">Acquire</a> ()</td></tr>
<tr class="memdesc:a504efce89310e4473c4a9ae77da7a641 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the endpoint's reference count.  <br /></td></tr>
<tr class="separator:a504efce89310e4473c4a9ae77da7a641 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6c8dc7f451e7c908df05319f24a64f inherit pub_methods_classBMidiEndpoint" id="r_a5c6c8dc7f451e7c908df05319f24a64f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a5c6c8dc7f451e7c908df05319f24a64f">GetProperties</a> (<a class="el" href="classBMessage.html">BMessage</a> *properties) const</td></tr>
<tr class="memdesc:a5c6c8dc7f451e7c908df05319f24a64f inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the properties of the endpoint.  <br /></td></tr>
<tr class="separator:a5c6c8dc7f451e7c908df05319f24a64f inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5b840617bf84cddbca779c470cef17 inherit pub_methods_classBMidiEndpoint" id="r_a3f5b840617bf84cddbca779c470cef17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a3f5b840617bf84cddbca779c470cef17">ID</a> () const</td></tr>
<tr class="memdesc:a3f5b840617bf84cddbca779c470cef17 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the endpoint.  <br /></td></tr>
<tr class="separator:a3f5b840617bf84cddbca779c470cef17 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20fe83d79bd0d08cb818d3dda0fdc23 inherit pub_methods_classBMidiEndpoint" id="r_ae20fe83d79bd0d08cb818d3dda0fdc23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#ae20fe83d79bd0d08cb818d3dda0fdc23">IsConsumer</a> () const</td></tr>
<tr class="memdesc:ae20fe83d79bd0d08cb818d3dda0fdc23 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint is a <a class="el" href="classBMidiConsumer.html" title="Receives MIDI events from a producer.">BMidiConsumer</a>.  <br /></td></tr>
<tr class="separator:ae20fe83d79bd0d08cb818d3dda0fdc23 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3edca82a4aa8bfa2aad3874cc9192b4d inherit pub_methods_classBMidiEndpoint" id="r_a3edca82a4aa8bfa2aad3874cc9192b4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a3edca82a4aa8bfa2aad3874cc9192b4d">IsLocal</a> () const</td></tr>
<tr class="memdesc:a3edca82a4aa8bfa2aad3874cc9192b4d inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint represents a local object.  <br /></td></tr>
<tr class="separator:a3edca82a4aa8bfa2aad3874cc9192b4d inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20623d6d71190a701e9bccc23e646e6a inherit pub_methods_classBMidiEndpoint" id="r_a20623d6d71190a701e9bccc23e646e6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a20623d6d71190a701e9bccc23e646e6a">IsPersistent</a> () const</td></tr>
<tr class="memdesc:a20623d6d71190a701e9bccc23e646e6a inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not used.  <br /></td></tr>
<tr class="separator:a20623d6d71190a701e9bccc23e646e6a inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2555a377a070eaea225ca40b9e5bb696 inherit pub_methods_classBMidiEndpoint" id="r_a2555a377a070eaea225ca40b9e5bb696"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a2555a377a070eaea225ca40b9e5bb696">IsProducer</a> () const</td></tr>
<tr class="memdesc:a2555a377a070eaea225ca40b9e5bb696 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint is a <a class="el" href="classBMidiProducer.html" title="Streams MIDI events to connected consumers.">BMidiProducer</a>.  <br /></td></tr>
<tr class="separator:a2555a377a070eaea225ca40b9e5bb696 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fc9a34aee618e137d9affcd67a7b36 inherit pub_methods_classBMidiEndpoint" id="r_a11fc9a34aee618e137d9affcd67a7b36"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a11fc9a34aee618e137d9affcd67a7b36">IsRemote</a> () const</td></tr>
<tr class="memdesc:a11fc9a34aee618e137d9affcd67a7b36 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint is a proxy for a remote object.  <br /></td></tr>
<tr class="separator:a11fc9a34aee618e137d9affcd67a7b36 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9f93e72f5302f6f0c631e5a4f0ddb2 inherit pub_methods_classBMidiEndpoint" id="r_a0c9f93e72f5302f6f0c631e5a4f0ddb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a0c9f93e72f5302f6f0c631e5a4f0ddb2">IsValid</a> () const</td></tr>
<tr class="memdesc:a0c9f93e72f5302f6f0c631e5a4f0ddb2 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the endpoint still exists.  <br /></td></tr>
<tr class="separator:a0c9f93e72f5302f6f0c631e5a4f0ddb2 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685e4d64cfbf56e30c7a3c5849fc72d8 inherit pub_methods_classBMidiEndpoint" id="r_a685e4d64cfbf56e30c7a3c5849fc72d8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a685e4d64cfbf56e30c7a3c5849fc72d8">Name</a> () const</td></tr>
<tr class="memdesc:a685e4d64cfbf56e30c7a3c5849fc72d8 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the endpoint.  <br /></td></tr>
<tr class="separator:a685e4d64cfbf56e30c7a3c5849fc72d8 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a818947b6098488a46e5a934d254186 inherit pub_methods_classBMidiEndpoint" id="r_a6a818947b6098488a46e5a934d254186"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a6a818947b6098488a46e5a934d254186">Register</a> ()</td></tr>
<tr class="memdesc:a6a818947b6098488a46e5a934d254186 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes the endpoint on the roster.  <br /></td></tr>
<tr class="separator:a6a818947b6098488a46e5a934d254186 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368ed2bdb2b76afe1466daf0cc0e2b08 inherit pub_methods_classBMidiEndpoint" id="r_a368ed2bdb2b76afe1466daf0cc0e2b08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a368ed2bdb2b76afe1466daf0cc0e2b08">Release</a> ()</td></tr>
<tr class="memdesc:a368ed2bdb2b76afe1466daf0cc0e2b08 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the endpoint's reference count.  <br /></td></tr>
<tr class="separator:a368ed2bdb2b76afe1466daf0cc0e2b08 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa167950f7b60558712224798f7e50aa inherit pub_methods_classBMidiEndpoint" id="r_afa167950f7b60558712224798f7e50aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#afa167950f7b60558712224798f7e50aa">SetName</a> (const char *name)</td></tr>
<tr class="memdesc:afa167950f7b60558712224798f7e50aa inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the name of the endpoint.  <br /></td></tr>
<tr class="separator:afa167950f7b60558712224798f7e50aa inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cf2c701ba336b640067db743ba9746 inherit pub_methods_classBMidiEndpoint" id="r_a58cf2c701ba336b640067db743ba9746"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#a58cf2c701ba336b640067db743ba9746">SetProperties</a> (const <a class="el" href="classBMessage.html">BMessage</a> *properties)</td></tr>
<tr class="memdesc:a58cf2c701ba336b640067db743ba9746 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the properties of the endpoint.  <br /></td></tr>
<tr class="separator:a58cf2c701ba336b640067db743ba9746 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60d3fd6a9706a63f57851acf84db042 inherit pub_methods_classBMidiEndpoint" id="r_ad60d3fd6a9706a63f57851acf84db042"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBMidiEndpoint.html#ad60d3fd6a9706a63f57851acf84db042">Unregister</a> ()</td></tr>
<tr class="memdesc:ad60d3fd6a9706a63f57851acf84db042 inherit pub_methods_classBMidiEndpoint"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hides the endpoint from the roster/.  <br /></td></tr>
<tr class="separator:ad60d3fd6a9706a63f57851acf84db042 inherit pub_methods_classBMidiEndpoint"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Receives MIDI events from a producer. </p>
<p>A consumer is an object that knows how to deal with incoming MIDI events. A consumer can be connected to multiple producers at the same time. There is no way to find out which producers are connected to this consumer just by looking at the <a class="el" href="classBMidiConsumer.html" title="Receives MIDI events from a producer.">BMidiConsumer</a> object; you will have to consult <a class="el" href="classBMidiRoster.html" title="Interface to the system-wide Midi Roster.">BMidiRoster</a> for that.</p>
<p>A <a class="el" href="classBMidiConsumer.html" title="Receives MIDI events from a producer.">BMidiConsumer</a> either represents a local consumer, i.e. a class extending from <a class="el" href="classBMidiLocalConsumer.html" title="A consumer endpoint that is created by your own application.">BMidiLocalConsumer</a>, or is a proxy for a remote object published by another app. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a11a23be136f1eaa0f797d1e8b5b4e460" name="a11a23be136f1eaa0f797d1e8b5b4e460"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Latency" class="dashAnchor">&nbsp;</a><a href="#a11a23be136f1eaa0f797d1e8b5b4e460">&#9670;&#160;</a></span>Latency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#a29bb8e432e460af113ef8938cef96f8b">bigtime_t</a> BMidiConsumer::Latency </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the latency of this consumer. </p>
<p>The latency is measured in microseconds. Producers should attempt to get MIDI events to this consumer by <em>(when - latency)</em>. You do this by subtracting the latency from the performance time when you spray the events (provided that you spray these events ahead of time, of course).</p>
<p>You cannot <em>set</em> the latency on a <a class="el" href="classBMidiConsumer.html" title="Receives MIDI events from a producer.">BMidiConsumer</a>, only on a <a class="el" href="classBMidiLocalConsumer.html" title="A consumer endpoint that is created by your own application.">BMidiLocalConsumer</a>.</p>
<p>The latency issue gets slightly more complicated when multiple endpoints are chained together, as in the following picture:</p>
<pre class="fragment">+-------+     +-------------+     +-------+
|       |     |             |     |       |
| prodA |----&gt;| consB prodB |----&gt;| consC |
|       |     |             |     |       |
+-------+     +-------------+     +-------+
  appA          appB (filter)       appC
</pre><p>Suppose consC has 200ms latency, and consB has 100ms latency. If consB simply reports 100ms, then prodA will schedule its events for (t - 100), which is really 200ms too late. (Of course, producers send out their events as soon as possible, so depending on the load of the system, everything may work out just fine.)</p>
<p>ConsB should report the latency of the consumer that is hooked up to its output, consC, in addition to its own latency. In other words, the full downstream latency. So, the reported latency in this case would be 300ms. This also means that appB should change the latency of consB when prodB makes or breaks a connection, and when consC reports a latency change. (If multiple consumers are connected to prodB, you should take the slowest one.) Unfortunately, the Midi Kit provides no easy mechanism for doing any of this, so you are on your own here. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - BMidiConsumer Class Reference<br />
    Generated on Sat May 24 2025 23:12:18 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
