<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: BMemoryRingIO Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBMemoryRingIO-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BMemoryRingIO Class Reference<div class="ingroups"><a class="el" href="group__support.html">Support Kit</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>An implementation of a ring buffer with a <a class="el" href="classBDataIO.html" title="Abstract interface for objects that provide read and write access to data.">BDataIO</a> interface.  
 <a href="#details">More...</a></p>

<p>Inherits <a class="el" href="classBDataIO.html">BDataIO</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ada0280b3dc869fccfc82062d20fce63c" id="r_ada0280b3dc869fccfc82062d20fce63c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada0280b3dc869fccfc82062d20fce63c">BMemoryRingIO</a> (size_t size)</td></tr>
<tr class="memdesc:ada0280b3dc869fccfc82062d20fce63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new <a class="el" href="classBMemoryRingIO.html" title="An implementation of a ring buffer with a BDataIO interface.">BMemoryRingIO</a> object with the given buffer size.  <br /></td></tr>
<tr class="separator:ada0280b3dc869fccfc82062d20fce63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16274e2aa80b5007dc38cf6d051a3cd" id="r_ac16274e2aa80b5007dc38cf6d051a3cd"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac16274e2aa80b5007dc38cf6d051a3cd">~BMemoryRingIO</a> ()</td></tr>
<tr class="memdesc:ac16274e2aa80b5007dc38cf6d051a3cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free up resources held by the object.  <br /></td></tr>
<tr class="separator:ac16274e2aa80b5007dc38cf6d051a3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7e271192ebe8a506201c53766489ae" id="r_a5b7e271192ebe8a506201c53766489ae"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5b7e271192ebe8a506201c53766489ae">BufferSize</a> ()</td></tr>
<tr class="memdesc:a5b7e271192ebe8a506201c53766489ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total capacity of the object.  <br /></td></tr>
<tr class="separator:a5b7e271192ebe8a506201c53766489ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06183c418cfe254f11d7258ca9bf8001" id="r_a06183c418cfe254f11d7258ca9bf8001"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06183c418cfe254f11d7258ca9bf8001">BytesAvailable</a> ()</td></tr>
<tr class="memdesc:a06183c418cfe254f11d7258ca9bf8001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of data stored in the object.  <br /></td></tr>
<tr class="separator:a06183c418cfe254f11d7258ca9bf8001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bcf6bc65f25e5c542352193bbf64d6" id="r_a79bcf6bc65f25e5c542352193bbf64d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79bcf6bc65f25e5c542352193bbf64d6">Clear</a> ()</td></tr>
<tr class="memdesc:a79bcf6bc65f25e5c542352193bbf64d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard all data in the object.  <br /></td></tr>
<tr class="separator:a79bcf6bc65f25e5c542352193bbf64d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e69b901fb20fe9fc4606202d113365" id="r_a27e69b901fb20fe9fc4606202d113365"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a27e69b901fb20fe9fc4606202d113365">InitCheck</a> () const</td></tr>
<tr class="memdesc:a27e69b901fb20fe9fc4606202d113365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the object has been initialized correctly.  <br /></td></tr>
<tr class="separator:a27e69b901fb20fe9fc4606202d113365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80f1903aee41f8d7f816129ee6d869d9" id="r_a80f1903aee41f8d7f816129ee6d869d9"><td class="memItemLeft" align="right" valign="top">virtual ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80f1903aee41f8d7f816129ee6d869d9">Read</a> (void *buffer, size_t size)</td></tr>
<tr class="memdesc:a80f1903aee41f8d7f816129ee6d869d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads data from the object into a buffer.  <br /></td></tr>
<tr class="separator:a80f1903aee41f8d7f816129ee6d869d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fad99fdaaa66e70cd25e0b5a785099" id="r_a01fad99fdaaa66e70cd25e0b5a785099"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01fad99fdaaa66e70cd25e0b5a785099">SetSize</a> (size_t size)</td></tr>
<tr class="memdesc:a01fad99fdaaa66e70cd25e0b5a785099"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the ring buffer capacity.  <br /></td></tr>
<tr class="separator:a01fad99fdaaa66e70cd25e0b5a785099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac513ffdbce33a9095a41a1c69afc367a" id="r_ac513ffdbce33a9095a41a1c69afc367a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a">SetWriteDisabled</a> (bool disabled)</td></tr>
<tr class="memdesc:ac513ffdbce33a9095a41a1c69afc367a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether writes to the ring buffer is disabled.  <br /></td></tr>
<tr class="separator:ac513ffdbce33a9095a41a1c69afc367a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46bee59062d566023b9c8e43f6e3b96d" id="r_a46bee59062d566023b9c8e43f6e3b96d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46bee59062d566023b9c8e43f6e3b96d">SpaceAvailable</a> ()</td></tr>
<tr class="memdesc:a46bee59062d566023b9c8e43f6e3b96d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of space left in the object.  <br /></td></tr>
<tr class="separator:a46bee59062d566023b9c8e43f6e3b96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8157e42f9ddd0a682900d2fc44a0ae" id="r_afb8157e42f9ddd0a682900d2fc44a0ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb8157e42f9ddd0a682900d2fc44a0ae">WaitForRead</a> (<a class="el" href="SupportDefs_8h.html#a29bb8e432e460af113ef8938cef96f8b">bigtime_t</a> timeout=B_INFINITE_TIMEOUT)</td></tr>
<tr class="memdesc:afb8157e42f9ddd0a682900d2fc44a0ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for data to be available for reading.  <br /></td></tr>
<tr class="separator:afb8157e42f9ddd0a682900d2fc44a0ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f6aa233c34af8ff8ee570aab5209b1" id="r_a24f6aa233c34af8ff8ee570aab5209b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24f6aa233c34af8ff8ee570aab5209b1">WaitForWrite</a> (<a class="el" href="SupportDefs_8h.html#a29bb8e432e460af113ef8938cef96f8b">bigtime_t</a> timeout=B_INFINITE_TIMEOUT)</td></tr>
<tr class="memdesc:a24f6aa233c34af8ff8ee570aab5209b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for space to be available for writing.  <br /></td></tr>
<tr class="separator:a24f6aa233c34af8ff8ee570aab5209b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57aea2ea4f1946bb4665ae548a060a7" id="r_ac57aea2ea4f1946bb4665ae548a060a7"><td class="memItemLeft" align="right" valign="top">virtual ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac57aea2ea4f1946bb4665ae548a060a7">Write</a> (const void *buffer, size_t size)</td></tr>
<tr class="memdesc:ac57aea2ea4f1946bb4665ae548a060a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data from a buffer to the object.  <br /></td></tr>
<tr class="separator:ac57aea2ea4f1946bb4665ae548a060a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70803d41888b75dfacdfdd3da032b7ab" id="r_a70803d41888b75dfacdfdd3da032b7ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70803d41888b75dfacdfdd3da032b7ab">WriteDisabled</a> ()</td></tr>
<tr class="memdesc:a70803d41888b75dfacdfdd3da032b7ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether writes to the ring buffer is disabled.  <br /></td></tr>
<tr class="separator:a70803d41888b75dfacdfdd3da032b7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBDataIO"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classBDataIO')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBDataIO.html">BDataIO</a></td></tr>
<tr class="memitem:a67891b7afe78d6a77845dd0352218801 inherit pub_methods_classBDataIO" id="r_a67891b7afe78d6a77845dd0352218801"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBDataIO.html#a67891b7afe78d6a77845dd0352218801">BDataIO</a> ()</td></tr>
<tr class="memdesc:a67891b7afe78d6a77845dd0352218801 inherit pub_methods_classBDataIO"><td class="mdescLeft">&#160;</td><td class="mdescRight">This constructor does nothing.  <br /></td></tr>
<tr class="separator:a67891b7afe78d6a77845dd0352218801 inherit pub_methods_classBDataIO"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ffdedc33237178edfb8256941e9236 inherit pub_methods_classBDataIO" id="r_a61ffdedc33237178edfb8256941e9236"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBDataIO.html#a61ffdedc33237178edfb8256941e9236">~BDataIO</a> ()</td></tr>
<tr class="memdesc:a61ffdedc33237178edfb8256941e9236 inherit pub_methods_classBDataIO"><td class="mdescLeft">&#160;</td><td class="mdescRight">This destructor does nothing.  <br /></td></tr>
<tr class="separator:a61ffdedc33237178edfb8256941e9236 inherit pub_methods_classBDataIO"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8874ac5766f1943d24a251460ae29d9c inherit pub_methods_classBDataIO" id="r_a8874ac5766f1943d24a251460ae29d9c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBDataIO.html#a8874ac5766f1943d24a251460ae29d9c">Flush</a> ()</td></tr>
<tr class="memdesc:a8874ac5766f1943d24a251460ae29d9c inherit pub_methods_classBDataIO"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes pending data to underlying storage.  <br /></td></tr>
<tr class="separator:a8874ac5766f1943d24a251460ae29d9c inherit pub_methods_classBDataIO"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0b0fc36232531a1d8c1144a7d75741 inherit pub_methods_classBDataIO" id="r_a3a0b0fc36232531a1d8c1144a7d75741"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBDataIO.html#a3a0b0fc36232531a1d8c1144a7d75741">ReadExactly</a> (void *buffer, size_t size, size_t *_bytesRead=<a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:a3a0b0fc36232531a1d8c1144a7d75741 inherit pub_methods_classBDataIO"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads an exact amount of data from the object into a buffer.  <br /></td></tr>
<tr class="separator:a3a0b0fc36232531a1d8c1144a7d75741 inherit pub_methods_classBDataIO"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0095cfffa454a82eac3dedda2e187ab7 inherit pub_methods_classBDataIO" id="r_a0095cfffa454a82eac3dedda2e187ab7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBDataIO.html#a0095cfffa454a82eac3dedda2e187ab7">WriteExactly</a> (const void *buffer, size_t size, size_t *_bytesWritten=<a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:a0095cfffa454a82eac3dedda2e187ab7 inherit pub_methods_classBDataIO"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an exact amount of data from a buffer to the object.  <br /></td></tr>
<tr class="separator:a0095cfffa454a82eac3dedda2e187ab7 inherit pub_methods_classBDataIO"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An implementation of a ring buffer with a <a class="el" href="classBDataIO.html" title="Abstract interface for objects that provide read and write access to data.">BDataIO</a> interface. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ada0280b3dc869fccfc82062d20fce63c" name="ada0280b3dc869fccfc82062d20fce63c"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BMemoryRingIO" class="dashAnchor">&nbsp;</a><a href="#ada0280b3dc869fccfc82062d20fce63c">&#9670;&#160;</a></span>BMemoryRingIO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BMemoryRingIO::BMemoryRingIO </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new <a class="el" href="classBMemoryRingIO.html" title="An implementation of a ring buffer with a BDataIO interface.">BMemoryRingIO</a> object with the given buffer size. </p>
<p>Call <a class="el" href="#a27e69b901fb20fe9fc4606202d113365" title="Whether the object has been initialized correctly.">InitCheck()</a> to verify that the buffer has been successfully created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The initial size of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a01fad99fdaaa66e70cd25e0b5a785099" title="Change the ring buffer capacity.">SetSize()</a> </dd></dl>

</div>
</div>
<a id="ac16274e2aa80b5007dc38cf6d051a3cd" name="ac16274e2aa80b5007dc38cf6d051a3cd"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/~BMemoryRingIO" class="dashAnchor">&nbsp;</a><a href="#ac16274e2aa80b5007dc38cf6d051a3cd">&#9670;&#160;</a></span>~BMemoryRingIO()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual BMemoryRingIO::~BMemoryRingIO </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free up resources held by the object. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5b7e271192ebe8a506201c53766489ae" name="a5b7e271192ebe8a506201c53766489ae"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BufferSize" class="dashAnchor">&nbsp;</a><a href="#a5b7e271192ebe8a506201c53766489ae">&#9670;&#160;</a></span>BufferSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BMemoryRingIO::BufferSize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total capacity of the object. </p>
<dl class="section return"><dt>Returns</dt><dd>The total capacity of the object in bytes.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a46bee59062d566023b9c8e43f6e3b96d" title="Get the amount of space left in the object.">SpaceAvailable()</a> for the amount of space left for writing in the object. </dd>
<dd>
<a class="el" href="#a06183c418cfe254f11d7258ca9bf8001" title="Get the amount of data stored in the object.">BytesAvailable()</a> for the amount of data ready to be read. </dd></dl>

</div>
</div>
<a id="a06183c418cfe254f11d7258ca9bf8001" name="a06183c418cfe254f11d7258ca9bf8001"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BytesAvailable" class="dashAnchor">&nbsp;</a><a href="#a06183c418cfe254f11d7258ca9bf8001">&#9670;&#160;</a></span>BytesAvailable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BMemoryRingIO::BytesAvailable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the amount of data stored in the object. </p>
<dl class="section return"><dt>Returns</dt><dd>The amount of bytes ready to be read from the object.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5b7e271192ebe8a506201c53766489ae" title="Get the total capacity of the object.">BufferSize()</a> for the total buffer size. </dd>
<dd>
<a class="el" href="#a46bee59062d566023b9c8e43f6e3b96d" title="Get the amount of space left in the object.">SpaceAvailable()</a> for the amount of space left for writing in the object. </dd></dl>

</div>
</div>
<a id="a79bcf6bc65f25e5c542352193bbf64d6" name="a79bcf6bc65f25e5c542352193bbf64d6"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Clear" class="dashAnchor">&nbsp;</a><a href="#a79bcf6bc65f25e5c542352193bbf64d6">&#9670;&#160;</a></span>Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMemoryRingIO::Clear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discard all data in the object. </p>
<p>This method will discard all data within the buffer. However it does not free the memory held by the buffer. If this is desired, use in combination with <a class="el" href="#a01fad99fdaaa66e70cd25e0b5a785099" title="Change the ring buffer capacity.">SetSize()</a> with <code>0</code> as the new capacity.</p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a01fad99fdaaa66e70cd25e0b5a785099" title="Change the ring buffer capacity.">SetSize()</a> for freeing memory held by the buffer, or for growing the buffer's size. </dd></dl>

</div>
</div>
<a id="a27e69b901fb20fe9fc4606202d113365" name="a27e69b901fb20fe9fc4606202d113365"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/InitCheck" class="dashAnchor">&nbsp;</a><a href="#a27e69b901fb20fe9fc4606202d113365">&#9670;&#160;</a></span>InitCheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMemoryRingIO::InitCheck </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the object has been initialized correctly. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>Everything is initialized. </td></tr>
    <tr><td class="paramname">B_NO_INIT</td><td>The internal buffer couldn't be created or the buffer capacity is <code>0</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a80f1903aee41f8d7f816129ee6d869d9" name="a80f1903aee41f8d7f816129ee6d869d9"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Read" class="dashAnchor">&nbsp;</a><a href="#a80f1903aee41f8d7f816129ee6d869d9">&#9670;&#160;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ssize_t BMemoryRingIO::Read </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads data from the object into a buffer. </p>
<p>If the ring buffer is empty, this method blocks until some data is made available. <code>0</code> is returned if <code>size</code> is <code>0</code> or the buffer is empty and was set to have write disabled.</p>
<dl class="section return"><dt>Returns</dt><dd>The amount of bytes read.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_BAD_VALUE</td><td><code>buffer</code> is <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a" title="Set whether writes to the ring buffer is disabled.">SetWriteDisabled()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classBDataIO.html#ab48c405c4e084c5f2a30e4137f0e7974">BDataIO</a>.</p>

</div>
</div>
<a id="a01fad99fdaaa66e70cd25e0b5a785099" name="a01fad99fdaaa66e70cd25e0b5a785099"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/SetSize" class="dashAnchor">&nbsp;</a><a href="#a01fad99fdaaa66e70cd25e0b5a785099">&#9670;&#160;</a></span>SetSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMemoryRingIO::SetSize </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the ring buffer capacity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The new capacity for the ring buffer. This value will be rounded up to the nearest power of two. The new capacity must be larger or equal to <a class="el" href="#a06183c418cfe254f11d7258ca9bf8001" title="Get the amount of data stored in the object.">BytesAvailable()</a>. If set to <code>0</code> when there are no the bytes available to be read, the buffer will be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The operation was successful. </td></tr>
    <tr><td class="paramname">B_BAD_VALUE</td><td>The new capacity is smaller than <a class="el" href="#a06183c418cfe254f11d7258ca9bf8001" title="Get the amount of data stored in the object.">BytesAvailable()</a>. </td></tr>
    <tr><td class="paramname">B_NO_MEMORY</td><td>Memory couldn't be allocated to grow/create the buffer. The buffer remains unchanged.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a06183c418cfe254f11d7258ca9bf8001" title="Get the amount of data stored in the object.">BytesAvailable()</a> for the amount of data to be read. </dd></dl>

</div>
</div>
<a id="ac513ffdbce33a9095a41a1c69afc367a" name="ac513ffdbce33a9095a41a1c69afc367a"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/SetWriteDisabled" class="dashAnchor">&nbsp;</a><a href="#ac513ffdbce33a9095a41a1c69afc367a">&#9670;&#160;</a></span>SetWriteDisabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMemoryRingIO::SetWriteDisabled </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>disabled</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether writes to the ring buffer is disabled. </p>
<p>This method controls whether further writes to the ring buffer is allowed. If writing is disabled, any further writes will error with <code>B_READ_ONLY_DEVICE</code>, and read will no longer block on an empty buffer and instead return <code>0</code>. In addition, <a class="el" href="#afb8157e42f9ddd0a682900d2fc44a0ae" title="Wait for data to be available for reading.">WaitForRead()</a> and <a class="el" href="#a24f6aa233c34af8ff8ee570aab5209b1" title="Wait for space to be available for writing.">WaitForWrite()</a> will return <code>B_READ_ONLY_DEVICE</code>.</p>
<p>This method is usually used to notify the writer/reader of the pipe to not write more and/or to wait for more data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disabled</td><td>Whether writes should be disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a70803d41888b75dfacdfdd3da032b7ab" title="Indicates whether writes to the ring buffer is disabled.">WriteDisabled()</a> to see whether writes to the ring buffer is currently disabled. </dd></dl>

</div>
</div>
<a id="a46bee59062d566023b9c8e43f6e3b96d" name="a46bee59062d566023b9c8e43f6e3b96d"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/SpaceAvailable" class="dashAnchor">&nbsp;</a><a href="#a46bee59062d566023b9c8e43f6e3b96d">&#9670;&#160;</a></span>SpaceAvailable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t BMemoryRingIO::SpaceAvailable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the amount of space left in the object. </p>
<dl class="section return"><dt>Returns</dt><dd>The remaining storage capacity of the object in bytes.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5b7e271192ebe8a506201c53766489ae" title="Get the total capacity of the object.">BufferSize()</a> for the total buffer size. </dd>
<dd>
<a class="el" href="#a06183c418cfe254f11d7258ca9bf8001" title="Get the amount of data stored in the object.">BytesAvailable()</a> for the amount of data ready to be read. </dd></dl>

</div>
</div>
<a id="afb8157e42f9ddd0a682900d2fc44a0ae" name="afb8157e42f9ddd0a682900d2fc44a0ae"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/WaitForRead" class="dashAnchor">&nbsp;</a><a href="#afb8157e42f9ddd0a682900d2fc44a0ae">&#9670;&#160;</a></span>WaitForRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMemoryRingIO::WaitForRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a29bb8e432e460af113ef8938cef96f8b">bigtime_t</a></td>          <td class="paramname"><span class="paramname"><em>timeout</em></span><span class="paramdefsep"> = </span><span class="paramdefval">B_INFINITE_TIMEOUT</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for data to be available for reading. </p>
<p>This method will block the current thread until there's data ready to be <a class="el" href="#a80f1903aee41f8d7f816129ee6d869d9" title="Reads data from the object into a buffer.">Read()</a> from the object or until timeout has been reached.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>The minimum amount of time to wait in microseconds. If the value is <code>B_INFINITE_TIMEOUT</code>, this method will not return until data can be read from the object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>There's data ready to be read. </td></tr>
    <tr><td class="paramname">B_TIMED_OUT</td><td>Timeout reached but no data has been made available. </td></tr>
    <tr><td class="paramname">B_READ_ONLY_DEVICE</td><td>The buffer has write disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a80f1903aee41f8d7f816129ee6d869d9" title="Reads data from the object into a buffer.">Read()</a> </dd>
<dd>
<a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a" title="Set whether writes to the ring buffer is disabled.">SetWriteDisabled()</a> </dd></dl>

</div>
</div>
<a id="a24f6aa233c34af8ff8ee570aab5209b1" name="a24f6aa233c34af8ff8ee570aab5209b1"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/WaitForWrite" class="dashAnchor">&nbsp;</a><a href="#a24f6aa233c34af8ff8ee570aab5209b1">&#9670;&#160;</a></span>WaitForWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMemoryRingIO::WaitForWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a29bb8e432e460af113ef8938cef96f8b">bigtime_t</a></td>          <td class="paramname"><span class="paramname"><em>timeout</em></span><span class="paramdefsep"> = </span><span class="paramdefval">B_INFINITE_TIMEOUT</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for space to be available for writing. </p>
<p>This method will block the current thread until there are storage space available for a <a class="el" href="#ac57aea2ea4f1946bb4665ae548a060a7" title="Writes data from a buffer to the object.">Write()</a> operation or until timeout has been reached.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>The minimum amount of time to wait in microseconds. If the value is <code>B_INFINITE_TIMEOUT</code>, this method will not return until data can be written into the object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>There's storage space to write to. </td></tr>
    <tr><td class="paramname">B_TIMED_OUT</td><td>Timeout reached but no additional storage space has been made available. </td></tr>
    <tr><td class="paramname">B_READ_ONLY_DEVICE</td><td>The buffer has write disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ac57aea2ea4f1946bb4665ae548a060a7" title="Writes data from a buffer to the object.">Write()</a> </dd>
<dd>
<a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a" title="Set whether writes to the ring buffer is disabled.">SetWriteDisabled()</a> </dd></dl>

</div>
</div>
<a id="ac57aea2ea4f1946bb4665ae548a060a7" name="ac57aea2ea4f1946bb4665ae548a060a7"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Write" class="dashAnchor">&nbsp;</a><a href="#ac57aea2ea4f1946bb4665ae548a060a7">&#9670;&#160;</a></span>Write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ssize_t BMemoryRingIO::Write </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes data from a buffer to the object. </p>
<p>If the ring buffer is full, this method blocks until some space is made available.</p>
<dl class="section return"><dt>Returns</dt><dd>The amount of bytes written. If the ring buffer is filled or <code>size</code> is <code>0</code>, <code>0</code> will be returned.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_BAD_VALUE</td><td><code>buffer</code> is <code>NULL</code> </td></tr>
    <tr><td class="paramname">B_READ_ONLY_DEVICE</td><td>Writes to the buffer has been disabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a" title="Set whether writes to the ring buffer is disabled.">SetWriteDisabled()</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classBDataIO.html#a1919f61e327c3c848f425224b0bae86f">BDataIO</a>.</p>

</div>
</div>
<a id="a70803d41888b75dfacdfdd3da032b7ab" name="a70803d41888b75dfacdfdd3da032b7ab"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/WriteDisabled" class="dashAnchor">&nbsp;</a><a href="#a70803d41888b75dfacdfdd3da032b7ab">&#9670;&#160;</a></span>WriteDisabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMemoryRingIO::WriteDisabled </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates whether writes to the ring buffer is disabled. </p>
<p>This method indicates whether further writes to the ring buffer is allowed. See <a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a" title="Set whether writes to the ring buffer is disabled.">SetWriteDisabled()</a> for more information.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ac513ffdbce33a9095a41a1c69afc367a" title="Set whether writes to the ring buffer is disabled.">SetWriteDisabled()</a> to control whether writes to the ring buffer is disabled.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if writes to the ring buffer is disabled, <code>false</code> if not. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - BMemoryRingIO Class Reference<br />
    Generated on Sat May 24 2025 23:12:18 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
