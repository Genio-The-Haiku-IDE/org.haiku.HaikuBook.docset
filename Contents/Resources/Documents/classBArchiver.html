<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: BArchiver Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBArchiver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BArchiver Class Reference<div class="ingroups"><a class="el" href="group__support.html">Support Kit</a> &#124; <a class="el" href="group__libbe.html">(libbe.so)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A class that simplifies the archiving of complicated <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> hierarchies.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77816a77b0589a0e136d8b44b440715b" id="r_a77816a77b0589a0e136d8b44b440715b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77816a77b0589a0e136d8b44b440715b">BArchiver</a> (<a class="el" href="classBMessage.html">BMessage</a> *archive)</td></tr>
<tr class="memdesc:a77816a77b0589a0e136d8b44b440715b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object that manages <code>archive</code>.  <br /></td></tr>
<tr class="separator:a77816a77b0589a0e136d8b44b440715b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb0e393cc86926246d0662bf74db79b" id="r_a9eb0e393cc86926246d0662bf74db79b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eb0e393cc86926246d0662bf74db79b">~BArchiver</a> ()</td></tr>
<tr class="memdesc:a9eb0e393cc86926246d0662bf74db79b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. If the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object has not had its <a class="el" href="#a7c82dbc0fb42795c575ac2c6a5405297" title="Report any archiving errors and possibly complete the archiving session.">Finish()</a> method called, this will be done now.  <br /></td></tr>
<tr class="separator:a9eb0e393cc86926246d0662bf74db79b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237a50590efba0121bf12249c5b6cb7f" id="r_a237a50590efba0121bf12249c5b6cb7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a237a50590efba0121bf12249c5b6cb7f">AddArchivable</a> (const char *name, <a class="el" href="classBArchivable.html">BArchivable</a> *archivable, bool deep=true)</td></tr>
<tr class="memdesc:a237a50590efba0121bf12249c5b6cb7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a reference to <code>archivable</code> to the archive used to construct this <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a>. May call <code>archivable's</code> Archive() method.  <br /></td></tr>
<tr class="separator:a237a50590efba0121bf12249c5b6cb7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3d925af5c90c05c8f6b69a58959bb3" id="r_a4c3d925af5c90c05c8f6b69a58959bb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBMessage.html">BMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c3d925af5c90c05c8f6b69a58959bb3">ArchiveMessage</a> () const</td></tr>
<tr class="memdesc:a4c3d925af5c90c05c8f6b69a58959bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the BMessage* used to construct this <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a>. This is the archive that <a class="el" href="#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">AddArchivable()</a> modifies.  <br /></td></tr>
<tr class="separator:a4c3d925af5c90c05c8f6b69a58959bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c82dbc0fb42795c575ac2c6a5405297" id="r_a7c82dbc0fb42795c575ac2c6a5405297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c82dbc0fb42795c575ac2c6a5405297">Finish</a> (<a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> err=B_OK)</td></tr>
<tr class="memdesc:a7c82dbc0fb42795c575ac2c6a5405297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report any archiving errors and possibly complete the archiving session.  <br /></td></tr>
<tr class="separator:a7c82dbc0fb42795c575ac2c6a5405297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e8cfc3e02979ab597ec08e0b99a3b1" id="r_aa2e8cfc3e02979ab597ec08e0b99a3b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2e8cfc3e02979ab597ec08e0b99a3b1">GetTokenForArchivable</a> (<a class="el" href="classBArchivable.html">BArchivable</a> *archivable, bool deep, <a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> &amp;_token)</td></tr>
<tr class="memdesc:aa2e8cfc3e02979ab597ec08e0b99a3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a token representing a <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> object for this archiving session.  <br /></td></tr>
<tr class="separator:aa2e8cfc3e02979ab597ec08e0b99a3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a787a6a7972a6c4624829c5c8d8d16e55" id="r_a787a6a7972a6c4624829c5c8d8d16e55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a787a6a7972a6c4624829c5c8d8d16e55">GetTokenForArchivable</a> (<a class="el" href="classBArchivable.html">BArchivable</a> *archivable, <a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> &amp;_token)</td></tr>
<tr class="memdesc:a787a6a7972a6c4624829c5c8d8d16e55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent to calling the expanded <a class="el" href="#aa2e8cfc3e02979ab597ec08e0b99a3b1" title="Get a token representing a BArchivable object for this archiving session.">GetTokenForArchivable(
       BArchivable*, bool, int32&amp;)</a>, with the deep parameter equal to <code>true</code>.  <br /></td></tr>
<tr class="separator:a787a6a7972a6c4624829c5c8d8d16e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f099b123416c719be2cd78eb999d19" id="r_a77f099b123416c719be2cd78eb999d19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77f099b123416c719be2cd78eb999d19">IsArchived</a> (<a class="el" href="classBArchivable.html">BArchivable</a> *archivable)</td></tr>
<tr class="memdesc:a77f099b123416c719be2cd78eb999d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether <code>archivable</code> has already been archived in this session.  <br /></td></tr>
<tr class="separator:a77f099b123416c719be2cd78eb999d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that simplifies the archiving of complicated <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> hierarchies. </p>
<p>The <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> class is a small class that is used for archiving of complicated <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> hierarchies. Such a hierarchy may include multiple <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects, each of which might be referenced by many <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects. With the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> class, you can be certain that each <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> object is archived only once with very little work. When used in conjuction with the <a class="el" href="classBArchivable.html#ac50bc278c3520b20c122161af96e8759" title="Method relating to the use of BArchiver.">BArchivable::AllArchived()</a> and <a class="el" href="classBArchivable.html#a62e3fe140b7f4a7b3718aada59fe05a3" title="Method relating to the use of BUnarchiver.">BArchivable::AllUnarchived()</a> methods, it is simple to rebuild your system of references upon unarchival so that they are equivalent to those that were present in your original hierarchy.</p>
<p>The objects you archive can be retrieved using a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object.</p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a77816a77b0589a0e136d8b44b440715b" name="a77816a77b0589a0e136d8b44b440715b"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BArchiver" class="dashAnchor">&nbsp;</a><a href="#a77816a77b0589a0e136d8b44b440715b">&#9670;&#160;</a></span>BArchiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BArchiver::BArchiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>archive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object that manages <code>archive</code>. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a9eb0e393cc86926246d0662bf74db79b" name="a9eb0e393cc86926246d0662bf74db79b"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/~BArchiver" class="dashAnchor">&nbsp;</a><a href="#a9eb0e393cc86926246d0662bf74db79b">&#9670;&#160;</a></span>~BArchiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BArchiver::~BArchiver </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. If the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object has not had its <a class="el" href="#a7c82dbc0fb42795c575ac2c6a5405297" title="Report any archiving errors and possibly complete the archiving session.">Finish()</a> method called, this will be done now. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a237a50590efba0121bf12249c5b6cb7f" name="a237a50590efba0121bf12249c5b6cb7f"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/AddArchivable" class="dashAnchor">&nbsp;</a><a href="#a237a50590efba0121bf12249c5b6cb7f">&#9670;&#160;</a></span>AddArchivable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchiver::AddArchivable </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBArchivable.html">BArchivable</a> *</td>          <td class="paramname"><span class="paramname"><em>archivable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>deep</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a reference to <code>archivable</code> to the archive used to construct this <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a>. May call <code>archivable's</code> Archive() method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Where this reference will be stored in the archive. </td></tr>
    <tr><td class="paramname">archivable</td><td>The BArchivable* object that to reference. </td></tr>
    <tr><td class="paramname">deep</td><td>Passed to <code>archivable-&gt;Archive()</code> if <code>archivable</code> must be archived.</td></tr>
  </table>
  </dd>
</dl>
<p>Adds a reference to <code>archivable</code> to your archive. If <code>archivable</code> has not yet been archived, then its Archive() method is called. <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> can only track <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects that have been archived through this method or the <a class="el" href="#a787a6a7972a6c4624829c5c8d8d16e55" title="Equivalent to calling the expanded GetTokenForArchivable(       BArchivable*, bool,...">GetTokenForArchivable()</a> methods.</p>
<dl class="section warning"><dt>Warning</dt><dd>If you manually archive an object, and then pass it to <a class="el" href="#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">AddArchivable()</a> or <a class="el" href="#a787a6a7972a6c4624829c5c8d8d16e55" title="Equivalent to calling the expanded GetTokenForArchivable(       BArchivable*, bool,...">GetTokenForArchivable()</a>, it will be archived again, and when unarchived you will end up with two different <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a4c3d925af5c90c05c8f6b69a58959bb3" name="a4c3d925af5c90c05c8f6b69a58959bb3"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/ArchiveMessage" class="dashAnchor">&nbsp;</a><a href="#a4c3d925af5c90c05c8f6b69a58959bb3">&#9670;&#160;</a></span>ArchiveMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBMessage.html">BMessage</a> * BArchiver::ArchiveMessage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the BMessage* used to construct this <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a>. This is the archive that <a class="el" href="#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">AddArchivable()</a> modifies. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a7c82dbc0fb42795c575ac2c6a5405297" name="a7c82dbc0fb42795c575ac2c6a5405297"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Finish" class="dashAnchor">&nbsp;</a><a href="#a7c82dbc0fb42795c575ac2c6a5405297">&#9670;&#160;</a></span>Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchiver::Finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a></td>          <td class="paramname"><span class="paramname"><em>err</em></span><span class="paramdefsep"> = </span><span class="paramdefval">B_OK</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Report any archiving errors and possibly complete the archiving session. </p>
<p>This method may finish an archiving session (triggering the call of all archived objects' AllArchived() methods) if the following conditions are true:</p><ul>
<li>No errors have been reported to this or any other <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object within this session.</li>
<li>This is the last remaining <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> that has not had its <a class="el" href="#a7c82dbc0fb42795c575ac2c6a5405297" title="Report any archiving errors and possibly complete the archiving session.">Finish()</a> method invoked.</li>
</ul>
<p>If you call this method with an error code not equal to B_OK, then this archiving session has failed, archived objects will not have their AllArchived() methods called, and any subsequent calls to this method on any <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> objects in this session will return your error code.</p>
<dl class="section return"><dt>Returns</dt><dd>The first error reported in this archiving session, or <code>B_OK</code>.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="aa2e8cfc3e02979ab597ec08e0b99a3b1" name="aa2e8cfc3e02979ab597ec08e0b99a3b1"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/GetTokenForArchivable" class="dashAnchor">&nbsp;</a><a href="#aa2e8cfc3e02979ab597ec08e0b99a3b1">&#9670;&#160;</a></span>GetTokenForArchivable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchiver::GetTokenForArchivable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBArchivable.html">BArchivable</a> *</td>          <td class="paramname"><span class="paramname"><em>archivable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>deep</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>_token</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a token representing a <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> object for this archiving session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">archivable</td><td>The <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> object for which you wish to get a token. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">deep</td><td>Controls how <code>archivable</code> will be archived, if it has not yet been archived in this session. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">_token</td><td>The token representing <code>archivable</code> is stored here.</td></tr>
  </table>
  </dd>
</dl>
<p>Retrieves or creates a token to represent <code>archivable</code> in this archiving session. If <code>archivable</code> has not yet been archived, it will be now. If <code>archivable</code> gets archived, the <code>deep</code> parameter will be passed to its Archive() method.</p>
<dl class="section warning"><dt>Warning</dt><dd>If you manually archive an object, and then pass it to <a class="el" href="#a787a6a7972a6c4624829c5c8d8d16e55" title="Equivalent to calling the expanded GetTokenForArchivable(       BArchivable*, bool,...">GetTokenForArchivable()</a>, it will be archived again, and when unarchived you will end up with two different <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a787a6a7972a6c4624829c5c8d8d16e55" name="a787a6a7972a6c4624829c5c8d8d16e55"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/GetTokenForArchivable" class="dashAnchor">&nbsp;</a><a href="#a787a6a7972a6c4624829c5c8d8d16e55">&#9670;&#160;</a></span>GetTokenForArchivable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchiver::GetTokenForArchivable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBArchivable.html">BArchivable</a> *</td>          <td class="paramname"><span class="paramname"><em>archivable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>_token</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent to calling the expanded <a class="el" href="#aa2e8cfc3e02979ab597ec08e0b99a3b1" title="Get a token representing a BArchivable object for this archiving session.">GetTokenForArchivable(
       BArchivable*, bool, int32&amp;)</a>, with the deep parameter equal to <code>true</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa2e8cfc3e02979ab597ec08e0b99a3b1" title="Get a token representing a BArchivable object for this archiving session.">GetTokenForArchivable(BArchivable*, bool, int32&amp;)</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#a787a6a7972a6c4624829c5c8d8d16e55">GetTokenForArchivable()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a787a6a7972a6c4624829c5c8d8d16e55">GetTokenForArchivable()</a>.</p>

</div>
</div>
<a id="a77f099b123416c719be2cd78eb999d19" name="a77f099b123416c719be2cd78eb999d19"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsArchived" class="dashAnchor">&nbsp;</a><a href="#a77f099b123416c719be2cd78eb999d19">&#9670;&#160;</a></span>IsArchived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BArchiver::IsArchived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBArchivable.html">BArchivable</a> *</td>          <td class="paramname"><span class="paramname"><em>archivable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether <code>archivable</code> has already been archived in this session. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether or not the object has already been archived. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td><code>archivable</code> has been archived in this archiving session. </td></tr>
    <tr><td class="paramname">false</td><td><code>archivable</code> has not been archived in this archiving session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - BArchiver Class Reference<br />
    Generated on Sat May 24 2025 23:12:17 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
