<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: unistd.h File Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7f57b1e41c5acd0e859ae5f3a2b075a9.html">headers</a></li><li class="navelem"><a class="el" href="dir_9a441a4c12488ba31c4bc90db5798eed.html">posix</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">unistd.h File Reference<div class="ingroups"><a class="el" href="group__libroot.html">(libroot.so)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Standard symbolic constants and types.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0b2d815e153aa69279c6308b282cd65f" id="r_a0b2d815e153aa69279c6308b282cd65f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b2d815e153aa69279c6308b282cd65f">ioctl</a> (int fd, unsigned long op, void *argument=<a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, size_t size=0)</td></tr>
<tr class="memdesc:a0b2d815e153aa69279c6308b282cd65f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a control command to a device through a file descriptor.  <br /></td></tr>
<tr class="separator:a0b2d815e153aa69279c6308b282cd65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Standard symbolic constants and types. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0b2d815e153aa69279c6308b282cd65f" name="a0b2d815e153aa69279c6308b282cd65f"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Function/ioctl" class="dashAnchor">&nbsp;</a><a href="#a0b2d815e153aa69279c6308b282cd65f">&#9670;&#160;</a></span>ioctl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ioctl </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>op</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>argument</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a control command to a device through a file descriptor. </p>
<p>ioctls are usually sent to file descriptors corresponding to files in the devfs filesystem (mounted in /dev). It allows sending commands to devices that wouldn't fit the usual flow of the read and write operations.</p>
<p>The action to perform is identified by the "op" parameter. Each driver can implement its own custom operations as needed, depending on the device being controlled. There are also a few standard ones implemented by most drivers.</p>
<p>In the standard UNIX version of this function, there is support for only one extra argument, which can be either an integer, or a pointer, either pointing to some data to send to the driver, or some buffer to receive a response. In most UNIX systems, further details about the operation are encoded in the "op" parameter, with bits indicating the direction and size of the buffer.</p>
<p>In BeOS and Haiku, the allocation of "op" values is done freely in each driver, and no bits are reserved for such use. Instead, a 4th argument is allowed, and can be used to indicate the buffer size. There is no need to encode the transfer direction, as this can be agreed between the calling application and the driver.</p>
<p>Both the 3rd and 4th parameters are optional. In C++, this is done using C++ function default arguments and causes no problems. However, the C language has no such feature. Therefore, the C implementation is a macro implementing a similar behavior.</p>
<p>To avoid these divergences between implementations of ioctl, portable applications should consider using the newly standardized posix_devctl function from POSIX 1.2024, which is equivalent to the BeOS/Haiku implementation of ioctl and also has an explicit size parameter. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - unistd.h File Reference<br />
    Generated on Sat May 24 2025 23:12:17 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
