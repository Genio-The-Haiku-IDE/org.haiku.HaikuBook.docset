<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: BArchivable Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classBArchivable-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BArchivable Class Reference<div class="ingroups"><a class="el" href="group__support.html">Support Kit</a> &#124; <a class="el" href="group__libbe.html">(libbe.so)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Interface for objects that can be archived into a <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a>.  
 <a href="#details">More...</a></p>

<p>Inherited by <a class="el" href="classBBitmap.html">BBitmap</a>, <a class="el" href="classBCollator.html">BCollator</a>, <a class="el" href="classBCursor.html">BCursor</a><code> [private]</code>, , , <a class="el" href="classBHandler.html">BHandler</a>, <a class="el" href="classBLayoutItem.html">BLayoutItem</a>, <a class="el" href="classBListItem.html">BListItem</a>, <a class="el" href="classBMenuItem.html">BMenuItem</a>, , , , <a class="el" href="classBNotification.html">BNotification</a>, and <a class="el" href="classBPicture.html">BPicture</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a66e6b947f092d32f287913a8c253290f" id="r_a66e6b947f092d32f287913a8c253290f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66e6b947f092d32f287913a8c253290f">BArchivable</a> ()</td></tr>
<tr class="memdesc:a66e6b947f092d32f287913a8c253290f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. Does nothing.  <br /></td></tr>
<tr class="separator:a66e6b947f092d32f287913a8c253290f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4f0566f9659b03912a859077c27c89" id="r_aed4f0566f9659b03912a859077c27c89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed4f0566f9659b03912a859077c27c89">BArchivable</a> (<a class="el" href="classBMessage.html">BMessage</a> *from)</td></tr>
<tr class="memdesc:aed4f0566f9659b03912a859077c27c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. Does important behind-the-scenes work in the unarchiving process.  <br /></td></tr>
<tr class="separator:aed4f0566f9659b03912a859077c27c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1eb91b8fbaaee03b869b596f214fbe" id="r_afc1eb91b8fbaaee03b869b596f214fbe"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc1eb91b8fbaaee03b869b596f214fbe">~BArchivable</a> ()</td></tr>
<tr class="memdesc:afc1eb91b8fbaaee03b869b596f214fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Does nothing.  <br /></td></tr>
<tr class="separator:afc1eb91b8fbaaee03b869b596f214fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50bc278c3520b20c122161af96e8759" id="r_ac50bc278c3520b20c122161af96e8759"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac50bc278c3520b20c122161af96e8759">AllArchived</a> (<a class="el" href="classBMessage.html">BMessage</a> *archive) const</td></tr>
<tr class="memdesc:ac50bc278c3520b20c122161af96e8759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method relating to the use of <code><a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a></code>.  <br /></td></tr>
<tr class="separator:ac50bc278c3520b20c122161af96e8759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e3fe140b7f4a7b3718aada59fe05a3" id="r_a62e3fe140b7f4a7b3718aada59fe05a3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62e3fe140b7f4a7b3718aada59fe05a3">AllUnarchived</a> (const <a class="el" href="classBMessage.html">BMessage</a> *archive)</td></tr>
<tr class="memdesc:a62e3fe140b7f4a7b3718aada59fe05a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method relating to the use of <code><a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a></code>.  <br /></td></tr>
<tr class="separator:a62e3fe140b7f4a7b3718aada59fe05a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdea91a8e4c5a6a05570319645fd7040" id="r_acdea91a8e4c5a6a05570319645fd7040"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdea91a8e4c5a6a05570319645fd7040">Archive</a> (<a class="el" href="classBMessage.html">BMessage</a> *into, bool deep=true) const</td></tr>
<tr class="memdesc:acdea91a8e4c5a6a05570319645fd7040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Archive the object into a <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a>.  <br /></td></tr>
<tr class="separator:acdea91a8e4c5a6a05570319645fd7040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f76e760ca993d18611744746c4cf38" id="r_af0f76e760ca993d18611744746c4cf38"><td class="memItemLeft" align="right" valign="top"><a id="af0f76e760ca993d18611744746c4cf38" name="af0f76e760ca993d18611744746c4cf38"></a>
virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Perform</b> (<a class="el" href="SupportDefs_8h.html#ad2237b0064c91c237159edc020989bab">perform_code</a> d, void *arg)</td></tr>
<tr class="memdesc:af0f76e760ca993d18611744746c4cf38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform some action (Internal method defined for binary compatibility purposes). <br /></td></tr>
<tr class="separator:af0f76e760ca993d18611744746c4cf38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a04efcb17fa2a64a776923cc12303efcd" id="r_a04efcb17fa2a64a776923cc12303efcd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classBArchivable.html">BArchivable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04efcb17fa2a64a776923cc12303efcd">Instantiate</a> (<a class="el" href="classBMessage.html">BMessage</a> *archive)</td></tr>
<tr class="memdesc:a04efcb17fa2a64a776923cc12303efcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static member to restore objects from messages.  <br /></td></tr>
<tr class="separator:a04efcb17fa2a64a776923cc12303efcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for objects that can be archived into a <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a>. </p>
<p><a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> provides an interface for objects that can be put into message archives and extracted into objects in another location. Using this you are able to send objects between applications, or even between computers across networks.</p>
<p><a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> differs from <a class="el" href="classBFlattenable.html" title="Interface for classes that can flatten and unflatten themselves to a stream of bytes.">BFlattenable</a> in that <a class="el" href="classBFlattenable.html" title="Interface for classes that can flatten and unflatten themselves to a stream of bytes.">BFlattenable</a> is designed to store objects into flat streams of data, the main objective being storage to disk. The objective of this interface, however, is to store objects that will later be restored as new (but identical) objects. To illustrate this point, <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects can be restored automatically to the correct class, whereas <a class="el" href="classBFlattenable.html" title="Interface for classes that can flatten and unflatten themselves to a stream of bytes.">BFlattenable</a> objects have a data type which you need to map to classes manually.</p>
<p>Archiving is done with the <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> method. If your class supports it, the caller can request it to store into a deep archive, meaning that all child objects in it will be stored. Extracting the archive works with the <a class="el" href="#a04efcb17fa2a64a776923cc12303efcd" title="Static member to restore objects from messages.">Instantiate()</a> method, which is static. Since the interface is designed to extract objects without the caller knowing what kind of object it actually is, the global function <a class="el" href="group__support__globals.html#gac98d3af4a84cd0880d8a853f7c526764" title="Instantiate an archived object with the object being defined in a different application or library.">instantiate_object()</a> instantiates a message without you manually having to determine the class the message is from. This adds considerable flexibility and allows <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> to be used in combination with other add-ons.</p>
<p>To provide this interface in your classes you should publicly inherit this class. You should implement <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> and <a class="el" href="#a04efcb17fa2a64a776923cc12303efcd" title="Static member to restore objects from messages.">Instantiate()</a>, and provide one constructor that takes one <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a> argument.</p>
<p>If your class holds references to other <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects that you wish to archive, then you should consider using the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> and <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> classes in your <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> method and archive constructor, respectively. You should also consider implementing the <a class="el" href="#ac50bc278c3520b20c122161af96e8759" title="Method relating to the use of BArchiver.">AllArchived()</a> and <a class="el" href="#a62e3fe140b7f4a7b3718aada59fe05a3" title="Method relating to the use of BUnarchiver.">AllUnarchived()</a> methods, which were designed to ease archiving and unarchiving in such a situation.</p>
<dl class="section since"><dt>Since</dt><dd>BeOS R3 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aed4f0566f9659b03912a859077c27c89" name="aed4f0566f9659b03912a859077c27c89"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BArchivable" class="dashAnchor">&nbsp;</a><a href="#aed4f0566f9659b03912a859077c27c89">&#9670;&#160;</a></span>BArchivable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BArchivable::BArchivable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>from</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. Does important behind-the-scenes work in the unarchiving process. </p>
<p>If you inherit this interface you should provide at least one constructor that takes one <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a> argument. In that constructor, you should call your parent class' archive constructor (even if your parent class is <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a>).</p>
<dl class="section since"><dt>Since</dt><dd>BeOS R3 </dd></dl>

</div>
</div>
<a id="a66e6b947f092d32f287913a8c253290f" name="a66e6b947f092d32f287913a8c253290f"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BArchivable" class="dashAnchor">&nbsp;</a><a href="#a66e6b947f092d32f287913a8c253290f">&#9670;&#160;</a></span>BArchivable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BArchivable::BArchivable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. Does nothing. </p>
<dl class="section since"><dt>Since</dt><dd>BeOS R3 </dd></dl>

</div>
</div>
<a id="afc1eb91b8fbaaee03b869b596f214fbe" name="afc1eb91b8fbaaee03b869b596f214fbe"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/~BArchivable" class="dashAnchor">&nbsp;</a><a href="#afc1eb91b8fbaaee03b869b596f214fbe">&#9670;&#160;</a></span>~BArchivable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual BArchivable::~BArchivable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. Does nothing. </p>
<dl class="section since"><dt>Since</dt><dd>BeOS R3 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac50bc278c3520b20c122161af96e8759" name="ac50bc278c3520b20c122161af96e8759"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/AllArchived" class="dashAnchor">&nbsp;</a><a href="#ac50bc278c3520b20c122161af96e8759">&#9670;&#160;</a></span>AllArchived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchivable::AllArchived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>into</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method relating to the use of <code><a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a></code>. </p>
<p>This hook function is called once the first <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> that was created in an archiving session is either destroyed, or has its Finish() method called. Implementations of this method can be used, in conjunction with <a class="el" href="classBArchiver.html#a77f099b123416c719be2cd78eb999d19" title="Returns whether archivable has already been archived in this session.">BArchiver::IsArchived()</a>, to reference objects in your archive that you do not own, depending on whether or not those objects were archived by their owners. Implementations of this method should call the implementation of their parent class, the same as for the <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> method.</p>
<dl class="section warning"><dt>Warning</dt><dd>To guarantee that your <a class="el" href="#ac50bc278c3520b20c122161af96e8759" title="Method relating to the use of BArchiver.">AllArchived()</a> method will be called during archival, you must create a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object in your <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> implementation.</dd>
<dd>
You should archive any objects you own in your <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> method implementation, and <b>NOT</b> your <a class="el" href="#ac50bc278c3520b20c122161af96e8759" title="Method relating to the use of BArchiver.">AllArchived()</a> method.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> <a class="el" href="classBArchiver.html#a7c82dbc0fb42795c575ac2c6a5405297" title="Report any archiving errors and possibly complete the archiving session.">BArchiver::Finish()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p>Reimplemented in <a class="el" href="classBAbstractLayout.html#a73b50e5ee03b980b4e8f08c875528162">BAbstractLayout</a>, <a class="el" href="classBCardLayout.html#a6351297bbadf4b530f7d68abe652df7a">BCardLayout</a>, <a class="el" href="classBGridLayout.html#adddbabf3f060e0e3d20af12cf3f3dab1">BGridLayout</a>, <a class="el" href="classBGroupLayout.html#a62670753e05e05601592d49f0b5f438f">BGroupLayout</a>, <a class="el" href="classBLayout.html#ab9747436e251333693d54d29d472e2f9">BLayout</a>, <a class="el" href="classBLayoutItem.html#a13ec3faa075b23b3073f97531365102c">BLayoutItem</a>, <a class="el" href="classBMenuField.html#ac03e0962671649ffb96eac0f81a8f509">BMenuField</a>, <a class="el" href="classBSplitView.html#a349e2d642531b7acaca411533ddfa1d1">BSplitView</a>, <a class="el" href="classBTextControl.html#af75d43042e6bc9a116f0b95a483d1ac7">BTextControl</a>, <a class="el" href="classBTwoDimensionalLayout.html#adb001699008fe0cb2eff51661da175e6">BTwoDimensionalLayout</a>, and <a class="el" href="classBView.html#a2a48bd39b252de0c6c7092a6c8b9d5fd">BView</a>.</p>

</div>
</div>
<a id="a62e3fe140b7f4a7b3718aada59fe05a3" name="a62e3fe140b7f4a7b3718aada59fe05a3"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/AllUnarchived" class="dashAnchor">&nbsp;</a><a href="#a62e3fe140b7f4a7b3718aada59fe05a3">&#9670;&#160;</a></span>AllUnarchived()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchivable::AllUnarchived </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>archive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method relating to the use of <code><a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a></code>. </p>
<p>This hook function is called triggered in the <a class="el" href="classBUnarchiver.html#a7640fa5d84dc6dca19d7513326d2bba2" title="Report any unarchiving errors and possibly complete the archiving session.">BUnarchiver::Finish()</a> method. In this method, you can rebuild references to objects that may be direct children of your object, or may be children of other objects. Implementations of this method should call the implementation of their parent class, the same as for the <a class="el" href="#acdea91a8e4c5a6a05570319645fd7040" title="Archive the object into a BMessage.">Archive()</a> method.</p>
<dl class="section warning"><dt>Warning</dt><dd>To guarantee that your <a class="el" href="#a62e3fe140b7f4a7b3718aada59fe05a3" title="Method relating to the use of BUnarchiver.">AllUnarchived()</a> method will be called during unarchival, you must create a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object in your archive constructor.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>, <a class="el" href="classBUnarchiver.html#a7640fa5d84dc6dca19d7513326d2bba2" title="Report any unarchiving errors and possibly complete the archiving session.">BUnarchiver::Finish()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p>Reimplemented in <a class="el" href="classBAbstractLayout.html#a2664ac14ab5dbe33a18cee88d420aa22">BAbstractLayout</a>, <a class="el" href="classBCardLayout.html#ab1400ad5d961aa771a120aa74c68470f">BCardLayout</a>, <a class="el" href="classBGridLayout.html#a2cd9bd9915c14ac32c0081234e12a5fb">BGridLayout</a>, <a class="el" href="classBGroupLayout.html#a25bd4f838e672aa3eb611a616c5ec5e0">BGroupLayout</a>, <a class="el" href="classBLayout.html#a4e2423a9753ee3d70db01c092e0cb151">BLayout</a>, <a class="el" href="classBLayoutItem.html#af78b72941cf1532299c2396cfeb7f9ed">BLayoutItem</a>, <a class="el" href="classBMenuField.html#a079e3e89f230afe07e806d6f0cce22da">BMenuField</a>, <a class="el" href="classBScrollView.html#adfed255a897cd481127f6b911b329c3d">BScrollView</a>, <a class="el" href="classBSplitView.html#a64a494a8f7a602d695894c451877b7a2">BSplitView</a>, <a class="el" href="classBTabView.html#a9fa2798cfc6cd3f5ccab18afa3dd257e">BTabView</a>, <a class="el" href="classBTextControl.html#a791af26ccd1b9f6094b138d2abb5194c">BTextControl</a>, <a class="el" href="classBTwoDimensionalLayout.html#a67ba660a95e7cf8647be8835184b6cc3">BTwoDimensionalLayout</a>, and <a class="el" href="classBView.html#a3a0e6b83370b8dbb5a4595bc4ebe9225">BView</a>.</p>

</div>
</div>
<a id="acdea91a8e4c5a6a05570319645fd7040" name="acdea91a8e4c5a6a05570319645fd7040"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Archive" class="dashAnchor">&nbsp;</a><a href="#acdea91a8e4c5a6a05570319645fd7040">&#9670;&#160;</a></span>Archive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BArchivable::Archive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>into</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>deep</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Archive the object into a <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a>. </p>
<p>You should call this method from your derived implementation as it adds the data needed to instantiate your object to the message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">into</td><td>The message you store your object in. </td></tr>
    <tr><td class="paramname">deep</td><td>If <code>true</code>, all children of this object should be archived as well.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The archive operation was successful. </td></tr>
    <tr><td class="paramname">B_BAD_VALUE</td><td><code>NULL</code> <em>archive</em> message. </td></tr>
    <tr><td class="paramname">B_ERROR</td><td>The archive operation failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>BeOS R3 </dd></dl>

<p>Reimplemented in <a class="el" href="classBAbstractLayout.html#a76c6e663adb27a10972dafe22c898bf7">BAbstractLayout</a>, <a class="el" href="classBAlert.html#af8e93c8af44acfbfe7c792c326de8535">BAlert</a>, <a class="el" href="classBApplication.html#a81f1872b248bc1412ddb493284123c14">BApplication</a>, <a class="el" href="classBBitmap.html#a4658c58847297b3bfaa166206710e841">BBitmap</a>, <a class="el" href="classBBox.html#a6aa4c4627379bd5db4545e2b395bf12d">BBox</a>, <a class="el" href="classBButton.html#a0b9003e5bd1be4cb3035316d8c4321fc">BButton</a>, <a class="el" href="classBCardLayout.html#a965004f14f6661f3447177de7c6f8eb2">BCardLayout</a>, <a class="el" href="classBChannelControl.html#ae17f48f92b8221dd9dc72c7661302413">BChannelControl</a>, <a class="el" href="classBChannelSlider.html#ac762bd0b4bace6d8bdcddf0021d31742">BChannelSlider</a>, <a class="el" href="classBCheckBox.html#ac4f9da0eb5cb5f734cd4acd6bcb4a2bc">BCheckBox</a>, <a class="el" href="classBCollator.html#a6ad070bcec766bb2e4b3963f2af53e90">BCollator</a>, <a class="el" href="classBColorControl.html#a6437907efd1d39a492db1f55b5f4dc36">BColorControl</a>, <a class="el" href="classBControl.html#a09bd30c46b89b45b91b1c951fb2f4711">BControl</a>, <a class="el" href="classBCursor.html#a8107f65d6771deecb24ae3b40dc3948f">BCursor</a>, <a class="el" href="classBDirectWindow.html#a290c835cba0a9d039118104a5351dd0f">BDirectWindow</a>, <a class="el" href="classBDragger.html#ab78b3dc889a140bb1f6dba187fb10068">BDragger</a>, <a class="el" href="classBGridLayout.html#aab5e2df95091bb76bb93628dcd01013e">BGridLayout</a>, <a class="el" href="classBGroupLayout.html#aae43bdb3a725755664e55f13a054b510">BGroupLayout</a>, <a class="el" href="classBHandler.html#ad6079ebf818a62842cbfbf2622b5f149">BHandler</a>, <a class="el" href="classBLayout.html#abb218a7edd299e8608b1e825acf05adf">BLayout</a>, <a class="el" href="classBLayoutItem.html#af2c2593e6179ee367ef26eff7ab7409f">BLayoutItem</a>, <a class="el" href="classBListItem.html#a95b2e4190aad59f2222cba722661c8e9">BListItem</a>, <a class="el" href="classBListView.html#ac6b30412eba2b6a73eb494a5a1c6c75b">BListView</a>, <a class="el" href="classBLooper.html#a7190112fd50257a847a6e915c3c0caf1">BLooper</a>, <a class="el" href="classBMenu.html#a3dd7318e70b663a17a38ef463ad7b1a8">BMenu</a>, <a class="el" href="classBMenuBar.html#a0e2e220eaee3fcbca056e2b2129824c4">BMenuBar</a>, <a class="el" href="classBMenuField.html#a1e6d979485552ea34d12ccccd2c52560">BMenuField</a>, <a class="el" href="classBMenuItem.html#a9194e9d76347d3b75d593fea1e2f08a1">BMenuItem</a>, <a class="el" href="classBNotification.html#a6b19b2770aedb661f6cb5717464c0389">BNotification</a>, <a class="el" href="classBOutlineListView.html#a0fd38c7949aabedb05ec7494b78fdad6">BOutlineListView</a>, <a class="el" href="classBPicture.html#a53b5583788feae2f65ee82387e744a24">BPicture</a>, <a class="el" href="classBPictureButton.html#a790e1c747a9a942fcc7135c564803737">BPictureButton</a>, <a class="el" href="classBPopUpMenu.html#a6f489b22399931eefde70129b049a6b7">BPopUpMenu</a>, <a class="el" href="classBRadioButton.html#ae12af2ec6e29e33c0197ae9ba87ec575">BRadioButton</a>, <a class="el" href="classBScrollBar.html#aa0142a4824c2fe92dd6417c497bf428f">BScrollBar</a>, <a class="el" href="classBScrollView.html#adc9e8817edb7e84657d8e3bcf85cd783">BScrollView</a>, <a class="el" href="classBSeparatorItem.html#a09ddee93df0924fbe055180336eff171">BSeparatorItem</a>, <a class="el" href="classBSeparatorView.html#ac2b920f8cb4cfd672fd31a1e0e653c2f">BSeparatorView</a>, <a class="el" href="classBShape.html#a44cb232367169bb8ea2b4ab580396f13">BShape</a>, <a class="el" href="classBShelf.html#a6fdb283ad2e591af200916423ab3ceb4">BShelf</a>, <a class="el" href="classBSpaceLayoutItem.html#a27a757bd5903c14dce5a54af00177d4a">BSpaceLayoutItem</a>, <a class="el" href="classBSplitView.html#a74c492041be9edede250ff56a81a8053">BSplitView</a>, <a class="el" href="classBStatusBar.html#ad56e360e44335bc094b31d1cb3cf75ca">BStatusBar</a>, <a class="el" href="classBStringItem.html#a41108b3ba328e6ffac70640d0be5fe32">BStringItem</a>, <a class="el" href="classBStringView.html#adcdb352f1b3ebadd5fc770d2208f77f2">BStringView</a>, <a class="el" href="classBTab.html#a1c51666f9a98ea208620043d484acd91">BTab</a>, <a class="el" href="classBTabView.html#a29f6db452c5ac009aa4ea828938a963a">BTabView</a>, <a class="el" href="classBTextControl.html#af877b77129958e3124c3f387e69941db">BTextControl</a>, <a class="el" href="classBTextView.html#a4d7a38102aa5607854fe7eec6721f321">BTextView</a>, <a class="el" href="classBTranslatorRoster.html#a32172ad6d22bbdc88bd301652800b604">BTranslatorRoster</a>, <a class="el" href="classBTwoDimensionalLayout.html#a405b207a3fa1770d5349de6d66705390">BTwoDimensionalLayout</a>, <a class="el" href="classBUrl.html#a7a31ffee9b9a2a2c0ed5e1469926b0fa">BUrl</a>, <a class="el" href="classBView.html#af58eb5de0469398a44b0d90a047f777b">BView</a>, and <a class="el" href="classBWindow.html#ac36ad95173ef6ec1c98667c730cf6de3">BWindow</a>.</p>

</div>
</div>
<a id="a04efcb17fa2a64a776923cc12303efcd" name="a04efcb17fa2a64a776923cc12303efcd"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Instantiate" class="dashAnchor">&nbsp;</a><a href="#a04efcb17fa2a64a776923cc12303efcd">&#9670;&#160;</a></span>Instantiate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classBArchivable.html">BArchivable</a> * BArchivable::Instantiate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>archive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static member to restore objects from messages. </p>
<p>You should always check that the <em>archive</em> argument actually corresponds to your class. The automatic functions, such as <a class="el" href="group__support__globals.html#gac98d3af4a84cd0880d8a853f7c526764" title="Instantiate an archived object with the object being defined in a different application or library.">instantiate_object()</a> and <a class="el" href="classBUnarchiver.html#a3bf0c1cbca1644015d17850424d0c374" title="Attempt to instantiate an object of type T from BMessage* from.">BUnarchiver::InstantiateObject()</a> will not choose the wrong class but manual calls to this member might be faulty. You can verify that <code>archive</code> stores an object of your class with the <a class="el" href="group__support__globals.html#gae5dd9c83f4d3ab639edd84deb6bfd1c5" title="Internal function that checks if the className is the same as the one stored in the from message.">validate_instantiation()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archive</td><td>The message with the data of the object to restore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> object. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">You</td><td>should return a pointer to the object you create with <code>archive</code>, or <code>NULL</code> if the unarchival fails.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>The default implementation will always return <code>NULL</code>. Even though it is possible to store plain <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects, it is impossible to restore them.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__support__globals.html#ga1ad60dbee75973620a85b2559e02d62d" title="Instantiate an archived object.">instantiate_object(BMessage*)</a> </dd>
<dd>
<a class="el" href="classBUnarchiver.html#a3bf0c1cbca1644015d17850424d0c374" title="Attempt to instantiate an object of type T from BMessage* from.">BUnarchiver::InstantiateObject()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>BeOS R3 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - BArchivable Class Reference<br />
    Generated on Sat May 24 2025 23:12:17 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
