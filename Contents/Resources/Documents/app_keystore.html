<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: Password and Key Storage API</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Password and Key Storage API</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Haiku R1 introduces the first version of a system-wide key store service, allows you as developer to outsource some of the credential and certificate management, as well as providing an infrastructure that enables sharing these artifacts between applications.</p>
<dl class="section warning"><dt>Warning</dt><dd>The implementation in Haiku R1 is limited and is a promise of more to come. Functionality beyond storing and sharing passwords is for the future. Also please read the security section of this document, especially when you are working with artifacts that are more sensitive. In many cases you will find that this system service will work just as well as making your own implementation, but there are instances in which you may chose not to use it.</dd></dl>
<h1><a class="anchor" id="app_keystore_overview"></a>
1. Highlevel Overview (components)</h1>
<p>The implementation is based around the following concepts:</p><ul>
<li>The <b>keystore</b> is the centralized repository for your keys. It is managed by the <b>keystore_server</b> and it contains one or more <b>keyrings</b>.</li>
<li>A <b>keyring</b> is a collection of keys. There is always a <b>master</b> <b>keyring</b>, which cannot be removed. Access is organized around keyrings. From a user's perspective, when an application wants to access keys in a keyring, the user will have to grant permission to that application to access the keyring. A keyring is identified by a name, which needs to be unique on the user's system.</li>
<li>A keyring contains <b>keys</b>. These are the smallest unit in the system. A key can be anything that you want to safeguard in the keystore. Keys are identified by the combination of an identifier and a secondary identifier. These should be unique within a keyring.</li>
<li>The final piece is the concept of <b>permissions</b>. In the current implementation, an application needs to ask permission to access a keyring. The <code>keystore_server</code> will validate the permissions, and if necessary prompt the user to grant one-time or a permant access. If the user only allows it once, access is granted until the application terminates.</li>
</ul>
<p>As a user of the API, you will mostly be working with <a class="el" href="classBKeyStore.html">BKeyStore</a>, as the access point that queries and modifies keyrings and keys. An individual key is represented by the <a class="el" href="classBKey.html">BKey</a> object.</p>
<h1><a class="anchor" id="app_keystore_security"></a>
2. Security</h1>
<p>The current implementation of this API should be considered low-security. The most important thing to know is that there is <b>no</b> <b>encryption</b> applied when storing the keys and keyrings to the drive. This means that the data can be read by any malicious actor that can access the drive of your machine.</p>
<p>This should also puts the current locking mechanism in perspective. While the <code>keystore_server</code> will prompt the user to grant (or deny) access to your application, when it wants to access a keyring, this again does not prevent any malicious actor to bypass the <code>keystore_server</code> and directly read from (and write to!) the file.</p>
<p>When considering on whether to use the current API, there are a few things to think about:</p><ul>
<li>First, consider whether you should store the keys at all. Passwords to services with extremely sensitive personal or financial information, such as email passwords or credentials to financial institutions, should not be stored at all. Prompt your user for the credentials when needed, and don't keep them for later use.</li>
<li>Secondly, if you are storing credentials for use with web services, check if the service you are using supports using access tokens. Many APIs have them, and often use it in combination with some form of permission system or scoping, making it possible for you to keep access as limited as possible. Furthermore, the user often has the ability to revoke access to a token, in case they think it is compromised.</li>
<li>When you assess that you really do need to store the credentials, make a determination first about whether or not the credentials should have some form of encryption. For now you should consider looking for another solution to storing sensitive data, but contributions to improve this API are very welcome. It is beyond the scope of this document to discuss strategies around encryption.</li>
<li>When you assess the risk is low enough not to employ encryption strategies, you may consider using this API. It is particularly recommended if you will be sharing the credentials with more than one application.</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>In the end, it is up to you as a developer to be conscious of any choices you make when it comes to user data, and credentials are no different. When you decide that the Password and Key API does not fit your needs, choose a framework or library that does fit your purpose.</dd></dl>
<h1><a class="anchor" id="app_keystore_usage"></a>
3. Practical use of the API</h1>
<p>Below are two distinct examples on how you may use the API.</p>
<h2><a class="anchor" id="app_keystore_usage_web"></a>
The Langlaufer Web Browser</h2>
<p>We are working on the infamous Langlaufer web browser, and we are adding a feature where we autocomplete user names and passwords. It is decided to use the Password and Key Storage API to do our key management. Whenever we land on a web page with a login screen, we will try to see if we have credentials for that web page. Part of the requirements is that we support more than one set of credentials for a web page.</p>
<p>It is decided that the application will store the user credentials in it's own keyring, as we do not want to interfere with any other keys in the master key. Additionally, we will use both the primary and secondary identifier fields. The primary will contain the hostname of the website, and the secondary will contain the user name.</p>
<p>One final design note is that all the calls to the <code>keystore_server</code> are synchronous, meaning they will block until there is a response back from the keystore. In the case that a user needs to be prompted for a password, the call will be blocked until they make a decision. That is why any calls on <a class="el" href="classBKeyStore.html">BKeyStore</a> should be done on a separate worker thread, instead of within the logic of a Window.</p>
<p>For clarity, the example below displays the interaction with the <a class="el" href="classBKeyStore.html">BKeyStore</a> and <a class="el" href="classBKey.html">BKey</a> classes through some utility functions. It is up to the reader to put that in a separate working thread.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Key_8h.html">Key.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="KeyStore_8h.html">KeyStore.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *kLanglauferKeyringName = <span class="stringliteral">&quot;Langlaufer&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="classBObjectList.html">BObjectList&lt;BPasswordKey&gt;</a></div>
<div class="line">GetKeysForWebsite(<span class="keyword">const</span> <span class="keywordtype">char</span> *baseUrl) {</div>
<div class="line">    <span class="comment">// There may be more than one match, so we use the iteration methods.</span></div>
<div class="line">    <a class="code hl_class" href="classBKeyStore.html">BKeyStore</a> keyStore;</div>
<div class="line">    <a class="code hl_typedef" href="SupportDefs_8h.html#a9a72138d173e1e5243078b8644d4a1c2">uint32</a> cookie;</div>
<div class="line">    <a class="code hl_class" href="classBPasswordKey.html">BPasswordKey</a> currentKey;</div>
<div class="line">    <a class="code hl_class" href="classBObjectList.html">BObjectList&lt;BPasswordKey&gt;</a> list;</div>
<div class="line">    <span class="keywordtype">bool</span> next = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(next) {</div>
<div class="line">        <a class="code hl_typedef" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> status = keyStore.<a class="code hl_function" href="classBKeyStore.html#a2b19dd024340ae18fdcbdc2e9feb69ce">GetNextKey</a>(kLanglauferKeyringName,</div>
<div class="line">            <a class="code hl_enumvalue" href="Key_8h.html#ab6fe8f56a119810db6dd4146fcece444a8792fabac486f0d2411b60d66a067669">B_KEY_TYPE_PASSWORD</a>, <a class="code hl_enumvalue" href="Key_8h.html#a9518f864f4ad0bbd2fc5056a51f9ed5da42f29c05f925e6a9b123af61752d5c57">B_KEY_PURPOSE_WEB</a>, cookie, currentKey);</div>
<div class="line">        <span class="keywordflow">switch</span>(status) {</div>
<div class="line">            <span class="keywordflow">case</span> B_OK:</div>
<div class="line">                <span class="comment">// Try to see if the key matches the website</span></div>
<div class="line">                <span class="keywordflow">if</span> (currentKey.<a class="code hl_function" href="classBKey.html#a519fb286f9b9bf340c45ab42ade87257">Identifier</a>() == baseUrl) {</div>
<div class="line">                    <span class="comment">// Add the item to the list.</span></div>
<div class="line">                    list.<a class="code hl_function" href="classBObjectList.html#acf86b51a49cbb8095ad99228555a5e87">AddItem</a>(<span class="keyword">new</span> <a class="code hl_class" href="classBPasswordKey.html">BPasswordKey</a>(currentKey));</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">case</span> B_BAD_VALUE:</div>
<div class="line">                <span class="comment">// The keyring does not exist, create it, and end the</span></div>
<div class="line">                <span class="comment">// search</span></div>
<div class="line">                CreateKeyring();</div>
<div class="line">                next = <span class="keyword">false</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">                <span class="comment">// Something else went wrong, like the user did not give</span></div>
<div class="line">                <span class="comment">// authorization, or we are at the end of the list.</span></div>
<div class="line">                <span class="comment">// Bail out the search at this point.</span></div>
<div class="line">                next = <span class="keyword">false</span>;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> list;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">CreateKeyring() {</div>
<div class="line">    <a class="code hl_class" href="classBKeyStore.html">BKeyStore</a> keyStore;</div>
<div class="line">    <span class="comment">// Ignore the return value in the next line, it may fail but that won&#39;t</span></div>
<div class="line">    <span class="comment">// interrupt the flow of our program.</span></div>
<div class="line">    keyStore.<a class="code hl_function" href="classBKeyStore.html#a21196565a98779d7f453b34a83defffc">AddKeyring</a>(kLanglauferKeyringName);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">AddOrReplaceKey(<span class="keyword">const</span> <span class="keywordtype">char</span> *baseUrl, <span class="keyword">const</span> <span class="keywordtype">char</span> *user, <span class="keyword">const</span> <span class="keywordtype">char</span> *password) {</div>
<div class="line">    <a class="code hl_class" href="classBKeyStore.html">BKeyStore</a> keyStore;</div>
<div class="line">    <a class="code hl_class" href="classBPasswordKey.html">BPasswordKey</a> key;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Fill out the key with existing data, or create new data</span></div>
<div class="line">    <span class="keywordflow">if</span> (keyStore.<a class="code hl_function" href="classBKeyStore.html#a1512f697b5398543f7668cd5358f4fb4">GetKey</a>(kLanglauferKeyringName, <a class="code hl_enumvalue" href="Key_8h.html#ab6fe8f56a119810db6dd4146fcece444a8792fabac486f0d2411b60d66a067669">B_KEY_TYPE_PASSWORD</a>, baseUrl, user, &amp;key) == B_OK) {</div>
<div class="line">        <span class="comment">// Remove the existing key</span></div>
<div class="line">        keyStore.<a class="code hl_function" href="classBKeyStore.html#af509aae99028fc2c828b25df258fe17d">RemoveKey</a>(kLanglauferKeyringName, key);</div>
<div class="line">        <span class="comment">// Update the password</span></div>
<div class="line">        key.<a class="code hl_function" href="classBPasswordKey.html#a2f68636af50e84b753a646c68fb17c2d">SetPassword</a>(password);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        key.<a class="code hl_function" href="classBPasswordKey.html#a1beb95e09102cd23d24b10a97a566f34">SetTo</a>(password, <a class="code hl_enumvalue" href="Key_8h.html#a9518f864f4ad0bbd2fc5056a51f9ed5da42f29c05f925e6a9b123af61752d5c57">B_KEY_PURPOSE_WEB</a>, user, password);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Store the updated/new key in the keyring</span></div>
<div class="line">    keyStore.<a class="code hl_function" href="classBKeyStore.html#a758592b27bbd551b3c67452eb73f7f61">AddKey</a>(kLanglauferKeyringName, key);</div>
<div class="line">}</div>
<div class="ttc" id="aKeyStore_8h_html"><div class="ttname"><a href="KeyStore_8h.html">KeyStore.h</a></div><div class="ttdoc">Provides BKeyStore class.</div></div>
<div class="ttc" id="aKey_8h_html"><div class="ttname"><a href="Key_8h.html">Key.h</a></div><div class="ttdoc">Provides BKey and BPasswordKey classes, as well as BKeyPurpose and BKeyType enums.</div></div>
<div class="ttc" id="aKey_8h_html_a9518f864f4ad0bbd2fc5056a51f9ed5da42f29c05f925e6a9b123af61752d5c57"><div class="ttname"><a href="Key_8h.html#a9518f864f4ad0bbd2fc5056a51f9ed5da42f29c05f925e6a9b123af61752d5c57">B_KEY_PURPOSE_WEB</a></div><div class="ttdeci">@ B_KEY_PURPOSE_WEB</div><div class="ttdoc">Web key purpose.</div><div class="ttdef"><b>Definition</b> Key.h:19</div></div>
<div class="ttc" id="aKey_8h_html_ab6fe8f56a119810db6dd4146fcece444a8792fabac486f0d2411b60d66a067669"><div class="ttname"><a href="Key_8h.html#ab6fe8f56a119810db6dd4146fcece444a8792fabac486f0d2411b60d66a067669">B_KEY_TYPE_PASSWORD</a></div><div class="ttdeci">@ B_KEY_TYPE_PASSWORD</div><div class="ttdoc">The key is a password.</div><div class="ttdef"><b>Definition</b> Key.h:28</div></div>
<div class="ttc" id="aSupportDefs_8h_html_a9a72138d173e1e5243078b8644d4a1c2"><div class="ttname"><a href="SupportDefs_8h.html#a9a72138d173e1e5243078b8644d4a1c2">uint32</a></div><div class="ttdeci">__haiku_uint32 uint32</div><div class="ttdoc">4-bytes unsigned integer.</div><div class="ttdef"><b>Definition</b> SupportDefs.h:25</div></div>
<div class="ttc" id="aSupportDefs_8h_html_ab6735558965995709a53691ae913c81b"><div class="ttname"><a href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a></div><div class="ttdeci">int32 status_t</div><div class="ttdoc">Represents one of the status codes defined in Errors.h.</div><div class="ttdef"><b>Definition</b> SupportDefs.h:52</div></div>
<div class="ttc" id="aclassBKeyStore_html"><div class="ttname"><a href="classBKeyStore.html">BKeyStore</a></div><div class="ttdoc">The BKeyStore lets you query, retrieve and store keys in the system's key store.</div><div class="ttdef"><b>Definition</b> KeyStore.h:12</div></div>
<div class="ttc" id="aclassBKeyStore_html_a1512f697b5398543f7668cd5358f4fb4"><div class="ttname"><a href="classBKeyStore.html#a1512f697b5398543f7668cd5358f4fb4">BKeyStore::GetKey</a></div><div class="ttdeci">status_t GetKey(BKeyType type, const char *identifier, BKey &amp;key)</div><div class="ttdoc">Query the Master keyring for for specific key.</div></div>
<div class="ttc" id="aclassBKeyStore_html_a21196565a98779d7f453b34a83defffc"><div class="ttname"><a href="classBKeyStore.html#a21196565a98779d7f453b34a83defffc">BKeyStore::AddKeyring</a></div><div class="ttdeci">status_t AddKeyring(const char *keyring)</div><div class="ttdoc">Create a new keyring.</div></div>
<div class="ttc" id="aclassBKeyStore_html_a2b19dd024340ae18fdcbdc2e9feb69ce"><div class="ttname"><a href="classBKeyStore.html#a2b19dd024340ae18fdcbdc2e9feb69ce">BKeyStore::GetNextKey</a></div><div class="ttdeci">status_t GetNextKey(uint32 &amp;cookie, BKey &amp;key)</div><div class="ttdoc">Iterate through the keys of the Master keyring.</div></div>
<div class="ttc" id="aclassBKeyStore_html_a758592b27bbd551b3c67452eb73f7f61"><div class="ttname"><a href="classBKeyStore.html#a758592b27bbd551b3c67452eb73f7f61">BKeyStore::AddKey</a></div><div class="ttdeci">status_t AddKey(const BKey &amp;key)</div><div class="ttdoc">Add a key to the Master keyring.</div></div>
<div class="ttc" id="aclassBKeyStore_html_af509aae99028fc2c828b25df258fe17d"><div class="ttname"><a href="classBKeyStore.html#af509aae99028fc2c828b25df258fe17d">BKeyStore::RemoveKey</a></div><div class="ttdeci">status_t RemoveKey(const BKey &amp;key)</div><div class="ttdoc">Remove a key from the Master keyring.</div></div>
<div class="ttc" id="aclassBKey_html_a519fb286f9b9bf340c45ab42ade87257"><div class="ttname"><a href="classBKey.html#a519fb286f9b9bf340c45ab42ade87257">BKey::Identifier</a></div><div class="ttdeci">const char * Identifier() const</div><div class="ttdoc">Get the identifier of the key.</div></div>
<div class="ttc" id="aclassBObjectList_html"><div class="ttname"><a href="classBObjectList.html">BObjectList</a></div><div class="ttdoc">BObjectList is a wrapper around BList that adds type safety, optional object ownership,...</div><div class="ttdef"><b>Definition</b> ObjectList.h:114</div></div>
<div class="ttc" id="aclassBObjectList_html_acf86b51a49cbb8095ad99228555a5e87"><div class="ttname"><a href="classBObjectList.html#acf86b51a49cbb8095ad99228555a5e87">BObjectList::AddItem</a></div><div class="ttdeci">bool AddItem(T *)</div><div class="ttdoc">Append the item to the end of the list.</div><div class="ttdef"><b>Definition</b> ObjectList.h:467</div></div>
<div class="ttc" id="aclassBPasswordKey_html"><div class="ttname"><a href="classBPasswordKey.html">BPasswordKey</a></div><div class="ttdoc">Class that represents a password for or from the Haiku key store.</div><div class="ttdef"><b>Definition</b> Key.h:93</div></div>
<div class="ttc" id="aclassBPasswordKey_html_a1beb95e09102cd23d24b10a97a566f34"><div class="ttname"><a href="classBPasswordKey.html#a1beb95e09102cd23d24b10a97a566f34">BPasswordKey::SetTo</a></div><div class="ttdeci">status_t SetTo(const char *password, BKeyPurpose purpose, const char *identifier, const char *secondaryIdentifier=NULL)</div><div class="ttdoc">Set the key to specific values.</div></div>
<div class="ttc" id="aclassBPasswordKey_html_a2f68636af50e84b753a646c68fb17c2d"><div class="ttname"><a href="classBPasswordKey.html#a2f68636af50e84b753a646c68fb17c2d">BPasswordKey::SetPassword</a></div><div class="ttdeci">status_t SetPassword(const char *password)</div><div class="ttdoc">Set the password for this key.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="app_keystore_usage_coolwebservice"></a>
The CoolWebService Tool Suite</h2>
<p>We are working on a set of tools that interface with a cool web service. Instead of building one monolithic application, we make several small tools with specific jobs for this cool web service. One of the tools does the authentication, and stores the key in the master keyring on the system. The other tools use this key to access the API.</p>
<p>Each tool requires the authentication token to be set up properly. That's why in the <a class="el" href="classBApplication.html#ab8905c5f693171509b08bd5a6018ba7b">BApplication::ReadyToRun()</a> hook we check for the availability of the key. If it is not available, or it does not work, the user will be redirected to the authentication tool. The key will be stored as a password. It will be identified by the identifier "CoolWebService".</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span></div>
<div class="line">CoolPushTool::ReadyToRun() {</div>
<div class="line">    <a class="code hl_class" href="classBKeyStore.html">BKeyStore</a> keyStore;</div>
<div class="line">    <a class="code hl_class" href="classBPasswordKey.html">BPasswordKey</a> key;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (keyStore.<a class="code hl_function" href="classBKeyStore.html#a1512f697b5398543f7668cd5358f4fb4">GetKey</a>(<a class="code hl_enumvalue" href="Key_8h.html#ab6fe8f56a119810db6dd4146fcece444a8792fabac486f0d2411b60d66a067669">B_KEY_TYPE_PASSWORD</a>, <span class="stringliteral">&quot;CoolWebService&quot;</span>, key) != B_OK) {</div>
<div class="line">        <span class="comment">// Terminate the application and re-authenticate</span></div>
<div class="line">        ...</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Extract the key</span></div>
<div class="line">    <a class="code hl_class" href="classBString.html">BString</a> accessToken = key.<a class="code hl_function" href="classBPasswordKey.html#ad554ead88f376d5b86a35e19e63b346c">Password</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Validate the key, and if succesful, continue</span></div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="ttc" id="aclassBPasswordKey_html_ad554ead88f376d5b86a35e19e63b346c"><div class="ttname"><a href="classBPasswordKey.html#ad554ead88f376d5b86a35e19e63b346c">BPasswordKey::Password</a></div><div class="ttdeci">const char * Password() const</div><div class="ttdoc">Get the password for the key.</div></div>
<div class="ttc" id="aclassBString_html"><div class="ttname"><a href="classBString.html">BString</a></div><div class="ttdoc">String class supporting common string operations.</div><div class="ttdef"><b>Definition</b> String.h:19</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - Password and Key Storage API<br />
    Generated on Sat May 24 2025 23:12:17 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
