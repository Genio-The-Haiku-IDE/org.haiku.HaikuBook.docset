<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: BUnarchiver Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classBUnarchiver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BUnarchiver Class Reference<div class="ingroups"><a class="el" href="group__support.html">Support Kit</a> &#124; <a class="el" href="group__libbe.html">(libbe.so)</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>A class that simplifies the unarchiving of complicated <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> hierarchies.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac1a5a14b2ae797c7f051dc44e725d640" id="r_ac1a5a14b2ae797c7f051dc44e725d640"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a> { <br />
&#160;&#160;<a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1">B_ASSUME_OWNERSHIP</a>
, <br />
&#160;&#160;<a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640a610d5a29af003cfc0e438d7e6b380c88">B_DONT_ASSUME_OWNERSHIP</a>
<br />
 }</td></tr>
<tr class="memdesc:ac1a5a14b2ae797c7f051dc44e725d640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options for the ownership policy of objects retrieved from <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>.  <a name="//apple_ref/cpp/Data/ownership_policy" class="dashAnchor">&nbsp;</a><a href="#ac1a5a14b2ae797c7f051dc44e725d640">More...</a><br /></td></tr>
<tr class="separator:ac1a5a14b2ae797c7f051dc44e725d640"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac01e05c6da11e90d27808dcd30cf9120" id="r_ac01e05c6da11e90d27808dcd30cf9120"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac01e05c6da11e90d27808dcd30cf9120">BUnarchiver</a> (const <a class="el" href="classBMessage.html">BMessage</a> *archive)</td></tr>
<tr class="memdesc:ac01e05c6da11e90d27808dcd30cf9120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object to manage <code>archive</code>.  <br /></td></tr>
<tr class="separator:ac01e05c6da11e90d27808dcd30cf9120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3476736967aaed6de3cd21cb00a91496" id="r_a3476736967aaed6de3cd21cb00a91496"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3476736967aaed6de3cd21cb00a91496">~BUnarchiver</a> ()</td></tr>
<tr class="memdesc:a3476736967aaed6de3cd21cb00a91496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object.  <br /></td></tr>
<tr class="separator:a3476736967aaed6de3cd21cb00a91496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac2b68a35e07a5e831a9fe4714c2f9c" id="r_a9ac2b68a35e07a5e831a9fe4714c2f9c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBMessage.html">BMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ac2b68a35e07a5e831a9fe4714c2f9c">ArchiveMessage</a> () const</td></tr>
<tr class="memdesc:a9ac2b68a35e07a5e831a9fe4714c2f9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the BMessage* used to construct this <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>.  <br /></td></tr>
<tr class="separator:a9ac2b68a35e07a5e831a9fe4714c2f9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac457088aaae9dabced13103b8c4205" id="r_aeac457088aaae9dabced13103b8c4205"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeac457088aaae9dabced13103b8c4205">AssumeOwnership</a> (<a class="el" href="classBArchivable.html">BArchivable</a> *archivable)</td></tr>
<tr class="memdesc:aeac457088aaae9dabced13103b8c4205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Become the owner of <em>archivable</em>.  <br /></td></tr>
<tr class="separator:aeac457088aaae9dabced13103b8c4205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a3f90c5405356b8f9588dcec99d61e" id="r_af2a3f90c5405356b8f9588dcec99d61e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2a3f90c5405356b8f9588dcec99d61e">EnsureUnarchived</a> (const char *name, <a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> index=0)</td></tr>
<tr class="memdesc:af2a3f90c5405356b8f9588dcec99d61e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure the object archived under <em>name</em> at <em>index</em> is unarchived and instantiated.  <br /></td></tr>
<tr class="separator:af2a3f90c5405356b8f9588dcec99d61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265dcb1cfd3cb185deb80c0fb0836613" id="r_a265dcb1cfd3cb185deb80c0fb0836613"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a265dcb1cfd3cb185deb80c0fb0836613">EnsureUnarchived</a> (<a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> token)</td></tr>
<tr class="memdesc:a265dcb1cfd3cb185deb80c0fb0836613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure the object represented by <em>token</em> is unarchived and instantiated.  <br /></td></tr>
<tr class="separator:a265dcb1cfd3cb185deb80c0fb0836613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b5036350c00bb31cff5f484287071a" id="r_a65b5036350c00bb31cff5f484287071a"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a65b5036350c00bb31cff5f484287071a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a65b5036350c00bb31cff5f484287071a">FindObject</a> (const char *name, <a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> index, <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a> owning, T *&amp;object)</td></tr>
<tr class="memdesc:a65b5036350c00bb31cff5f484287071a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover an object that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method.  <br /></td></tr>
<tr class="separator:a65b5036350c00bb31cff5f484287071a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88614876a0f399827072b114f6edff0" id="r_ae88614876a0f399827072b114f6edff0"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ae88614876a0f399827072b114f6edff0"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae88614876a0f399827072b114f6edff0">FindObject</a> (const char *name, <a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> index, T *&amp;object)</td></tr>
<tr class="memdesc:ae88614876a0f399827072b114f6edff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover and take ownership of an object that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method.  <br /></td></tr>
<tr class="separator:ae88614876a0f399827072b114f6edff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04b2639901179ce0472b8fa3b23ba94" id="r_aa04b2639901179ce0472b8fa3b23ba94"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:aa04b2639901179ce0472b8fa3b23ba94"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa04b2639901179ce0472b8fa3b23ba94">FindObject</a> (const char *name, <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a> owning, T *&amp;object)</td></tr>
<tr class="memdesc:aa04b2639901179ce0472b8fa3b23ba94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover an object at index <code>0</code> that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method.  <br /></td></tr>
<tr class="separator:aa04b2639901179ce0472b8fa3b23ba94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad64f70e03bc7b9c202eec4d5d07d075e" id="r_ad64f70e03bc7b9c202eec4d5d07d075e"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ad64f70e03bc7b9c202eec4d5d07d075e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject</a> (const char *name, T *&amp;object)</td></tr>
<tr class="memdesc:ad64f70e03bc7b9c202eec4d5d07d075e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover and take ownership of an object at index <code>0</code> that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method.  <br /></td></tr>
<tr class="separator:ad64f70e03bc7b9c202eec4d5d07d075e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7640fa5d84dc6dca19d7513326d2bba2" id="r_a7640fa5d84dc6dca19d7513326d2bba2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7640fa5d84dc6dca19d7513326d2bba2">Finish</a> (<a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> err=B_OK)</td></tr>
<tr class="memdesc:a7640fa5d84dc6dca19d7513326d2bba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report any unarchiving errors and possibly complete the archiving session.  <br /></td></tr>
<tr class="separator:a7640fa5d84dc6dca19d7513326d2bba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939359c608ad87dee82b073d0ac79517" id="r_a939359c608ad87dee82b073d0ac79517"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a939359c608ad87dee82b073d0ac79517"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a939359c608ad87dee82b073d0ac79517">GetObject</a> (<a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> token, <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a> owning, T *&amp;object)</td></tr>
<tr class="memdesc:a939359c608ad87dee82b073d0ac79517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover an object by token that was archived by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. If the object has not yet been instantiated, and this request is not coming from an AllUnarchived() implementation, the object will be instantiated now.  <br /></td></tr>
<tr class="separator:a939359c608ad87dee82b073d0ac79517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bc2e909dbdc0b9a786e073dc56e9d7" id="r_a60bc2e909dbdc0b9a786e073dc56e9d7"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a60bc2e909dbdc0b9a786e073dc56e9d7"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a60bc2e909dbdc0b9a786e073dc56e9d7">GetObject</a> (<a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> token, T *&amp;object)</td></tr>
<tr class="memdesc:a60bc2e909dbdc0b9a786e073dc56e9d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover and take ownership of an object represented by <em>token</em>.  <br /></td></tr>
<tr class="separator:a60bc2e909dbdc0b9a786e073dc56e9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad497bb9f706e1147c197827b66e914ac" id="r_ad497bb9f706e1147c197827b66e914ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad497bb9f706e1147c197827b66e914ac">IsInstantiated</a> (const char *name, <a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> index=0)</td></tr>
<tr class="memdesc:ad497bb9f706e1147c197827b66e914ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the object archived under <em>name</em> at <em>index</em> has been instantiated in this session.  <br /></td></tr>
<tr class="separator:ad497bb9f706e1147c197827b66e914ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952bf7fa844b79b7e5a503945a6df7cd" id="r_a952bf7fa844b79b7e5a503945a6df7cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a952bf7fa844b79b7e5a503945a6df7cd">IsInstantiated</a> (<a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> token)</td></tr>
<tr class="memdesc:a952bf7fa844b79b7e5a503945a6df7cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the object represented by <code>token</code> has been instantiated in this session.  <br /></td></tr>
<tr class="separator:a952bf7fa844b79b7e5a503945a6df7cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14b4974578f4a6587ce29d7408f722e" id="r_aa14b4974578f4a6587ce29d7408f722e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa14b4974578f4a6587ce29d7408f722e">RelinquishOwnership</a> (<a class="el" href="classBArchivable.html">BArchivable</a> *archivable)</td></tr>
<tr class="memdesc:aa14b4974578f4a6587ce29d7408f722e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Relinquish ownership of <em>archivable</em>. If <em>archivable</em> remains unclaimed at the end of the unarchiving session, it will be deleted (unless it is the root object).  <br /></td></tr>
<tr class="separator:aa14b4974578f4a6587ce29d7408f722e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3bf0c1cbca1644015d17850424d0c374" id="r_a3bf0c1cbca1644015d17850424d0c374"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a3bf0c1cbca1644015d17850424d0c374"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a3bf0c1cbca1644015d17850424d0c374">InstantiateObject</a> (<a class="el" href="classBMessage.html">BMessage</a> *archive, T *&amp;object)</td></tr>
<tr class="memdesc:a3bf0c1cbca1644015d17850424d0c374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to instantiate an object of type T from BMessage* <em>from</em>.  <br /></td></tr>
<tr class="separator:a3bf0c1cbca1644015d17850424d0c374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a80d3440ee8d7b1ce7055157fef814" id="r_af5a80d3440ee8d7b1ce7055157fef814"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5a80d3440ee8d7b1ce7055157fef814">IsArchiveManaged</a> (const <a class="el" href="classBMessage.html">BMessage</a> *archive)</td></tr>
<tr class="memdesc:af5a80d3440ee8d7b1ce7055157fef814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether <em>archive</em> was managed by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object.  <br /></td></tr>
<tr class="separator:af5a80d3440ee8d7b1ce7055157fef814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdd712bd85312bc7d36896e20b71b6b9" id="r_acdd712bd85312bc7d36896e20b71b6b9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classBMessage.html">BMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdd712bd85312bc7d36896e20b71b6b9">PrepareArchive</a> (<a class="el" href="classBMessage.html">BMessage</a> *&amp;archive)</td></tr>
<tr class="memdesc:acdd712bd85312bc7d36896e20b71b6b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares <code>archive</code> for use by a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>.  <br /></td></tr>
<tr class="separator:acdd712bd85312bc7d36896e20b71b6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that simplifies the unarchiving of complicated <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> hierarchies. </p>
<p>The <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> class is a small class used to recover <a class="el" href="classBArchivable.html" title="Interface for objects that can be archived into a BMessage.">BArchivable</a> objects that have been archived with the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> class. It also provides ownership semantics, so that memory leaks can be avoided during the unarchival process. When retrieving an object (either via <a class="el" href="#a60bc2e909dbdc0b9a786e073dc56e9d7" title="Recover and take ownership of an object represented by token.">GetObject()</a> or <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e" title="Recover and take ownership of an object at index 0 that had previously been archived using the BArchi...">FindObject()</a>), you can specify a <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640" title="Options for the ownership policy of objects retrieved from BUnarchiver.">BUnarchiver::ownership_policy</a>. If you specify <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1" title="Ownership of unarchived objects will be transferred to the caller.">BUnarchiver::B_ASSUME_OWNERSHIP</a>, you will become responsible for deleting the retrieved item. If you specify <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640a610d5a29af003cfc0e438d7e6b380c88" title="The unarchived objects will be borrowed to the caller.">BUnarchiver::B_DONT_ASSUME_OWNERSHIP</a>, you will not become responsible. You cannot take ownership of the same object twice. After the unarchival process finishes, any unclaimed objects, excluding the root object (the object being instantiated via <a class="el" href="group__support__globals.html#gac98d3af4a84cd0880d8a853f7c526764" title="Instantiate an archived object with the object being defined in a different application or library.">instantiate_object()</a> or <a class="el" href="#a3bf0c1cbca1644015d17850424d0c374" title="Attempt to instantiate an object of type T from BMessage* from.">BUnarchiver::InstantiateObject()</a>), will be deleted.</p>
<p>If you are updating a class that previously did not use the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> and <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> helper classes, and want to maintain backwards compatibility with old archive, this can be done using the <a class="el" href="#af5a80d3440ee8d7b1ce7055157fef814" title="Checks whether archive was managed by a BArchiver object.">IsArchiveManaged()</a> method.</p>
<dl class="section warning"><dt>Warning</dt><dd>Calling methods on your <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> with a legacy archive (one that was not managed by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> during archival) will result in a call to debugger().</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ac1a5a14b2ae797c7f051dc44e725d640" name="ac1a5a14b2ae797c7f051dc44e725d640"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Data/ownership_policy" class="dashAnchor">&nbsp;</a><a href="#ac1a5a14b2ae797c7f051dc44e725d640">&#9670;&#160;</a></span>ownership_policy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">BUnarchiver::ownership_policy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Options for the ownership policy of objects retrieved from <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1" name="ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1"></a>B_ASSUME_OWNERSHIP&#160;</td><td class="fielddoc"><p>Ownership of unarchived objects will be transferred to the caller. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="ac1a5a14b2ae797c7f051dc44e725d640a610d5a29af003cfc0e438d7e6b380c88" name="ac1a5a14b2ae797c7f051dc44e725d640a610d5a29af003cfc0e438d7e6b380c88"></a>B_DONT_ASSUME_OWNERSHIP&#160;</td><td class="fielddoc"><p>The unarchived objects will be borrowed to the caller. </p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac01e05c6da11e90d27808dcd30cf9120" name="ac01e05c6da11e90d27808dcd30cf9120"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/BUnarchiver" class="dashAnchor">&nbsp;</a><a href="#ac01e05c6da11e90d27808dcd30cf9120">&#9670;&#160;</a></span>BUnarchiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BUnarchiver::BUnarchiver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>archive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object to manage <code>archive</code>. </p>
<dl class="section note"><dt>Note</dt><dd>To guarantee that your AllUnarchived() method will be called during archival, you must create a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object in your archive constructor. It is necessary to do this even if you won't use the <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object in your archive constructor.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Do not construct a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object without first calling <a class="el" href="#acdd712bd85312bc7d36896e20b71b6b9" title="Prepares archive for use by a BUnarchiver.">BUnarchiver::PrepareArchive()</a> on <code>archive</code>. It is only safe to build a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> without this call in your AllUnarchived() implementation.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#acdd712bd85312bc7d36896e20b71b6b9" title="Prepares archive for use by a BUnarchiver.">BUnarchiver::PrepareArchive()</a></dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a3476736967aaed6de3cd21cb00a91496" name="a3476736967aaed6de3cd21cb00a91496"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/~BUnarchiver" class="dashAnchor">&nbsp;</a><a href="#a3476736967aaed6de3cd21cb00a91496">&#9670;&#160;</a></span>~BUnarchiver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BUnarchiver::~BUnarchiver </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object. </p>
<p>Calls this objects <a class="el" href="#a7640fa5d84dc6dca19d7513326d2bba2" title="Report any unarchiving errors and possibly complete the archiving session.">Finish()</a> method, if it has not yet been called.</p>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9ac2b68a35e07a5e831a9fe4714c2f9c" name="a9ac2b68a35e07a5e831a9fe4714c2f9c"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/ArchiveMessage" class="dashAnchor">&nbsp;</a><a href="#a9ac2b68a35e07a5e831a9fe4714c2f9c">&#9670;&#160;</a></span>ArchiveMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBMessage.html">BMessage</a> * BUnarchiver::ArchiveMessage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the BMessage* used to construct this <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>. </p>
<p>This is the archive that <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e" title="Recover and take ownership of an object at index 0 that had previously been archived using the BArchi...">FindObject()</a> uses. </p>

</div>
</div>
<a id="aeac457088aaae9dabced13103b8c4205" name="aeac457088aaae9dabced13103b8c4205"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/AssumeOwnership" class="dashAnchor">&nbsp;</a><a href="#aeac457088aaae9dabced13103b8c4205">&#9670;&#160;</a></span>AssumeOwnership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BUnarchiver::AssumeOwnership </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBArchivable.html">BArchivable</a> *</td>          <td class="paramname"><span class="paramname"><em>archivable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Become the owner of <em>archivable</em>. </p>
<p>After calling this method you are responsible for deleting the <em>archivable</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archivable</td><td>The <em>archivable</em> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="af2a3f90c5405356b8f9588dcec99d61e" name="af2a3f90c5405356b8f9588dcec99d61e"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/EnsureUnarchived" class="dashAnchor">&nbsp;</a><a href="#af2a3f90c5405356b8f9588dcec99d61e">&#9670;&#160;</a></span>EnsureUnarchived() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::EnsureUnarchived </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensure the object archived under <em>name</em> at <em>index</em> is unarchived and instantiated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The archive <em>name</em>. </td></tr>
    <tr><td class="paramname">index</td><td>The archive <em>index</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640a610d5a29af003cfc0e438d7e6b380c88">B_DONT_ASSUME_OWNERSHIP</a>, and <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject()</a>.</p>

</div>
</div>
<a id="a265dcb1cfd3cb185deb80c0fb0836613" name="a265dcb1cfd3cb185deb80c0fb0836613"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/EnsureUnarchived" class="dashAnchor">&nbsp;</a><a href="#a265dcb1cfd3cb185deb80c0fb0836613">&#9670;&#160;</a></span>EnsureUnarchived() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::EnsureUnarchived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>token</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensure the object represented by <em>token</em> is unarchived and instantiated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>the object <em>token</em> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640a610d5a29af003cfc0e438d7e6b380c88">B_DONT_ASSUME_OWNERSHIP</a>, and <a class="el" href="#a60bc2e909dbdc0b9a786e073dc56e9d7">GetObject()</a>.</p>

</div>
</div>
<a id="a65b5036350c00bb31cff5f484287071a" name="a65b5036350c00bb31cff5f484287071a"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/FindObject" class="dashAnchor">&nbsp;</a><a href="#a65b5036350c00bb31cff5f484287071a">&#9670;&#160;</a></span>FindObject() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::FindObject </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a></td>          <td class="paramname"><span class="paramname"><em>owning</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover an object that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method. </p>
<p>If the object has not yet been instantiated, and this request is not coming from an AllUnarchived() implementation, the object will be instantiated now.</p>
<p>If the retrieved object is not of the type T, then this method will fail. If this method fails, you will not receive ownership of the object, no matter what you specified in <code>owning</code>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of object you wish to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name that was passed to <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> when adding this object. </td></tr>
    <tr><td class="paramname">index</td><td>The index of the object you wish to recover (<code>0-based</code>, like <a class="el" href="classBMessage.html#a1e896648ee668dd5d6c8a4311d6cfa94" title="Find data that is stored in this message.">BMessage::FindData()</a>. </td></tr>
    <tr><td class="paramname">owning</td><td>Dictates whether or not you wish to take ownership of the retrieved object. </td></tr>
    <tr><td class="paramname">object</td><td>Return parameter for the retrieved object of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The object retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The object retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1">B_ASSUME_OWNERSHIP</a>, <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject()</a>, <a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="#aa14b4974578f4a6587ce29d7408f722e">RelinquishOwnership()</a>.</p>

</div>
</div>
<a id="ae88614876a0f399827072b114f6edff0" name="ae88614876a0f399827072b114f6edff0"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/FindObject" class="dashAnchor">&nbsp;</a><a href="#ae88614876a0f399827072b114f6edff0">&#9670;&#160;</a></span>FindObject() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::FindObject </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recover and take ownership of an object that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of object you wish to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name that was passed to <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> when adding this object. </td></tr>
    <tr><td class="paramname">index</td><td>The index of the object you wish to recover (<code>0-based</code>, like <a class="el" href="classBMessage.html#a1e896648ee668dd5d6c8a4311d6cfa94" title="Find data that is stored in this message.">BMessage::FindData()</a>. </td></tr>
    <tr><td class="paramname">object</td><td>Return parameter for the retrieved object of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The object retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The object retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1">B_ASSUME_OWNERSHIP</a>, and <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject()</a>.</p>

</div>
</div>
<a id="aa04b2639901179ce0472b8fa3b23ba94" name="aa04b2639901179ce0472b8fa3b23ba94"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/FindObject" class="dashAnchor">&nbsp;</a><a href="#aa04b2639901179ce0472b8fa3b23ba94">&#9670;&#160;</a></span>FindObject() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::FindObject </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a></td>          <td class="paramname"><span class="paramname"><em>owning</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recover an object at index <code>0</code> that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method. </p>
<p>Equivalent to calling FindObject(name, <code>0</code>, owning, object).</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of <em>object</em> you wish to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name that was passed to <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> when adding this object. </td></tr>
    <tr><td class="paramname">owning</td><td>Dictates whether or not you wish to take ownership of the retrieved object. </td></tr>
    <tr><td class="paramname">object</td><td>Return parameter for the retrieved object of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The object retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The object retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject()</a>.</p>

</div>
</div>
<a id="ad64f70e03bc7b9c202eec4d5d07d075e" name="ad64f70e03bc7b9c202eec4d5d07d075e"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/FindObject" class="dashAnchor">&nbsp;</a><a href="#ad64f70e03bc7b9c202eec4d5d07d075e">&#9670;&#160;</a></span>FindObject() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::FindObject </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recover and take ownership of an object at index <code>0</code> that had previously been archived using the <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> method. </p>
<p>Equivalent to calling FindObject(name, <code>0</code>, <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1" title="Ownership of unarchived objects will be transferred to the caller.">BUnarchiver::B_ASSUME_OWNERSHIP</a>, object).</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of <em>object</em> you wish to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name that was passed to <a class="el" href="classBArchiver.html#a237a50590efba0121bf12249c5b6cb7f" title="Adds a reference to archivable to the archive used to construct this BArchiver. May call archivable&#39;s...">BArchiver::AddArchivable()</a> when adding this object. </td></tr>
    <tr><td class="paramname">object</td><td>Return parameter for the retrieved <em>object</em> of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The <em>object</em> retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The <em>object</em> retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1">B_ASSUME_OWNERSHIP</a>, and <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#af2a3f90c5405356b8f9588dcec99d61e">EnsureUnarchived()</a>, <a class="el" href="#a65b5036350c00bb31cff5f484287071a">FindObject()</a>, <a class="el" href="#ae88614876a0f399827072b114f6edff0">FindObject()</a>, <a class="el" href="#aa04b2639901179ce0472b8fa3b23ba94">FindObject()</a>, and <a class="el" href="#ad64f70e03bc7b9c202eec4d5d07d075e">FindObject()</a>.</p>

</div>
</div>
<a id="a7640fa5d84dc6dca19d7513326d2bba2" name="a7640fa5d84dc6dca19d7513326d2bba2"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Finish" class="dashAnchor">&nbsp;</a><a href="#a7640fa5d84dc6dca19d7513326d2bba2">&#9670;&#160;</a></span>Finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::Finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a></td>          <td class="paramname"><span class="paramname"><em>err</em></span><span class="paramdefsep"> = </span><span class="paramdefval">B_OK</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Report any unarchiving errors and possibly complete the archiving session. </p>
<p>This method may finish an unarchiving session (triggering the call of all instantiated objects' AllUnarchived() methods) if the following conditions are true:</p>
<ul>
<li>No errors have been reported to this or any other <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object within this session.</li>
<li>This is the last remaining <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> that has not had its <a class="el" href="#a7640fa5d84dc6dca19d7513326d2bba2" title="Report any unarchiving errors and possibly complete the archiving session.">Finish()</a> method invoked.</li>
</ul>
<p>If you call this method with an error code not equal to B_OK, then this unarchiving session has failed, instantiated objects will not have their AllUnarchived() methods called, and any subsequent calls to this method on any <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> objects in this session will return your error code. Furthermore, any objects that have been instantiated, but have not had their ownership assumed by another object will now be deleted (excluding the root object).</p>
<dl class="section return"><dt>Returns</dt><dd>The first error reported in this unarchiving session, or <code>B_OK</code>.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a939359c608ad87dee82b073d0ac79517" name="a939359c608ad87dee82b073d0ac79517"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/GetObject" class="dashAnchor">&nbsp;</a><a href="#a939359c608ad87dee82b073d0ac79517">&#9670;&#160;</a></span>GetObject() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::GetObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>token</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640">ownership_policy</a></td>          <td class="paramname"><span class="paramname"><em>owning</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover an object by token that was archived by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. If the object has not yet been instantiated, and this request is not coming from an AllUnarchived() implementation, the object will be instantiated now. </p>
<p>If the retrieved object is not of the type T, then this method will fail. If this method fails, you will not receive ownership of the object, no matter what you specified in <code>owning</code>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of <em>object</em> you wish to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>The <em>token</em> you got for this object from <a class="el" href="classBArchiver.html#a787a6a7972a6c4624829c5c8d8d16e55" title="Equivalent to calling the expanded GetTokenForArchivable(       BArchivable*, bool,...">BArchiver::GetTokenForArchivable()</a> during archival. </td></tr>
    <tr><td class="paramname">owning</td><td>Whether or not you wish to take ownership of the retrieved object. </td></tr>
    <tr><td class="paramname">object</td><td>Return parameter for the retrieved object of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The object retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The object retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1">B_ASSUME_OWNERSHIP</a>, <a class="el" href="#a60bc2e909dbdc0b9a786e073dc56e9d7">GetObject()</a>, <a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="#aa14b4974578f4a6587ce29d7408f722e">RelinquishOwnership()</a>.</p>

</div>
</div>
<a id="a60bc2e909dbdc0b9a786e073dc56e9d7" name="a60bc2e909dbdc0b9a786e073dc56e9d7"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/GetObject" class="dashAnchor">&nbsp;</a><a href="#a60bc2e909dbdc0b9a786e073dc56e9d7">&#9670;&#160;</a></span>GetObject() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::GetObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>token</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recover and take ownership of an object represented by <em>token</em>. </p>
<p>Equivalent to calling GetObject(token, <code>B_ASSUME_OWNERSHIP</code>, object)</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of <em>object</em> you wish to find.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>The <em>token</em> you got for this object from <a class="el" href="classBArchiver.html#a787a6a7972a6c4624829c5c8d8d16e55" title="Equivalent to calling the expanded GetTokenForArchivable(       BArchivable*, bool,...">BArchiver::GetTokenForArchivable()</a> during archival. </td></tr>
    <tr><td class="paramname">object</td><td>The return parameter for the retrieved object of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The object retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The object retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#ac1a5a14b2ae797c7f051dc44e725d640ae07485fa95142c9a427abb4736156bd1">B_ASSUME_OWNERSHIP</a>, and <a class="el" href="#a60bc2e909dbdc0b9a786e073dc56e9d7">GetObject()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a265dcb1cfd3cb185deb80c0fb0836613">EnsureUnarchived()</a>, <a class="el" href="#a939359c608ad87dee82b073d0ac79517">GetObject()</a>, and <a class="el" href="#a60bc2e909dbdc0b9a786e073dc56e9d7">GetObject()</a>.</p>

</div>
</div>
<a id="a3bf0c1cbca1644015d17850424d0c374" name="a3bf0c1cbca1644015d17850424d0c374"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/InstantiateObject" class="dashAnchor">&nbsp;</a><a href="#a3bf0c1cbca1644015d17850424d0c374">&#9670;&#160;</a></span>InstantiateObject()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BUnarchiver::InstantiateObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&amp;</td>          <td class="paramname"><span class="paramname"><em>object</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to instantiate an object of type T from BMessage* <em>from</em>. </p>
<p>If the instantiated object is not of type T, then it will be deleted, and this method will return <code>B_BAD_TYPE</code>. This method is similar to the <a class="el" href="group__support__globals.html#gac98d3af4a84cd0880d8a853f7c526764" title="Instantiate an archived object with the object being defined in a different application or library.">instantiate_object()</a> function, but provides error reporting and protection from memory leaks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>The <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a> to instantiate from. </td></tr>
    <tr><td class="paramname">object</td><td>Return parameter for the retrieved object of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">B_OK</td><td>The object retrieved was of type T. </td></tr>
    <tr><td class="paramname">B_BAD_TYPE</td><td>The object retrieved was not of type T.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">References <a class="el" href="#a3bf0c1cbca1644015d17850424d0c374">InstantiateObject()</a>, and <a class="el" href="SupportDefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a3bf0c1cbca1644015d17850424d0c374">InstantiateObject()</a>.</p>

</div>
</div>
<a id="af5a80d3440ee8d7b1ce7055157fef814" name="af5a80d3440ee8d7b1ce7055157fef814"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsArchiveManaged" class="dashAnchor">&nbsp;</a><a href="#af5a80d3440ee8d7b1ce7055157fef814">&#9670;&#160;</a></span>IsArchiveManaged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool BUnarchiver::IsArchiveManaged </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>archive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether <em>archive</em> was managed by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. </p>
<p>This method can be used to maintain archive backwards-compatibility for a class that has been updated to use the <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> class. If there is a possibility that you are may dealing with a legacy archive, you can use this method to find out before calling any methods on your <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> object.</p>
<p>Here is an example of how you might use this method. Note that you must still call PrepareArchive(archive) either way.</p>
<div class="fragment"><div class="line">MyArchivableClas::MyArchivableClass(<a class="code hl_class" href="classBMessage.html">BMessage</a>* archive)</div>
<div class="line">    :</div>
<div class="line">    <a class="code hl_class" href="classBArchivable.html">BArchivable</a>(<a class="code hl_class" href="classBUnarchiver.html">BUnarchiver</a>::<a class="code hl_function" href="#acdd712bd85312bc7d36896e20b71b6b9">PrepareArchive</a>(archive))</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="classBUnarchiver.html">BUnarchiver</a> unarchiver(archive);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="#af5a80d3440ee8d7b1ce7055157fef814">BUnarchiver::IsArchiveManaged</a>(archive)) {</div>
<div class="line">        <span class="comment">// ... calls to FindObject() or GetObject() here ...</span></div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">// ... calls to BMessage::FindMessage() here ...</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassBArchivable_html"><div class="ttname"><a href="classBArchivable.html">BArchivable</a></div><div class="ttdoc">Interface for objects that can be archived into a BMessage.</div><div class="ttdef"><b>Definition</b> Archivable.h:28</div></div>
<div class="ttc" id="aclassBMessage_html"><div class="ttname"><a href="classBMessage.html">BMessage</a></div><div class="ttdoc">A container that can be send and received using the Haiku messaging subsystem.</div><div class="ttdef"><b>Definition</b> Message.h:56</div></div>
<div class="ttc" id="aclassBUnarchiver_html"><div class="ttname"><a href="classBUnarchiver.html">BUnarchiver</a></div><div class="ttdoc">A class that simplifies the unarchiving of complicated BArchivable hierarchies.</div><div class="ttdef"><b>Definition</b> Archivable.h:85</div></div>
<div class="ttc" id="aclassBUnarchiver_html_acdd712bd85312bc7d36896e20b71b6b9"><div class="ttname"><a name="//apple_ref/cpp/Method/PrepareArchive" class="dashAnchor">&nbsp;</a><a href="#acdd712bd85312bc7d36896e20b71b6b9">BUnarchiver::PrepareArchive</a></div><div class="ttdeci">static BMessage * PrepareArchive(BMessage *&amp;archive)</div><div class="ttdoc">Prepares archive for use by a BUnarchiver.</div></div>
<div class="ttc" id="aclassBUnarchiver_html_af5a80d3440ee8d7b1ce7055157fef814"><div class="ttname"><a name="//apple_ref/cpp/Method/IsArchiveManaged" class="dashAnchor">&nbsp;</a><a href="#af5a80d3440ee8d7b1ce7055157fef814">BUnarchiver::IsArchiveManaged</a></div><div class="ttdeci">static bool IsArchiveManaged(const BMessage *archive)</div><div class="ttdoc">Checks whether archive was managed by a BArchiver object.</div></div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd>Whether <em>archive</em> was managed by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if <em>archive</em> was managed by a <a class="el" href="classBArchiver.html" title="A class that simplifies the archiving of complicated BArchivable hierarchies.">BArchiver</a> object. </td></tr>
    <tr><td class="paramname">false</td><td>otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="ad497bb9f706e1147c197827b66e914ac" name="ad497bb9f706e1147c197827b66e914ac"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsInstantiated" class="dashAnchor">&nbsp;</a><a href="#ad497bb9f706e1147c197827b66e914ac">&#9670;&#160;</a></span>IsInstantiated() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BUnarchiver::IsInstantiated </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the object archived under <em>name</em> at <em>index</em> has been instantiated in this session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The archive <em>name</em>. </td></tr>
    <tr><td class="paramname">index</td><td>The arcive <em>token</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if instantiated, <code>false</code> otherwise.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="a952bf7fa844b79b7e5a503945a6df7cd" name="a952bf7fa844b79b7e5a503945a6df7cd"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsInstantiated" class="dashAnchor">&nbsp;</a><a href="#a952bf7fa844b79b7e5a503945a6df7cd">&#9670;&#160;</a></span>IsInstantiated() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BUnarchiver::IsInstantiated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a></td>          <td class="paramname"><span class="paramname"><em>token</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the object represented by <code>token</code> has been instantiated in this session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>The object <em>token</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if instantiated, <code>false</code> otherwise</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="acdd712bd85312bc7d36896e20b71b6b9" name="acdd712bd85312bc7d36896e20b71b6b9"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/PrepareArchive" class="dashAnchor">&nbsp;</a><a href="#acdd712bd85312bc7d36896e20b71b6b9">&#9670;&#160;</a></span>PrepareArchive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classBMessage.html">BMessage</a> * BUnarchiver::PrepareArchive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *&amp;</td>          <td class="paramname"><span class="paramname"><em>archive</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares <code>archive</code> for use by a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>. </p>
<p>This method must be called if you plan to use a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a> on an archive. It must be called once for each class an object inherits from that will use a <a class="el" href="classBUnarchiver.html" title="A class that simplifies the unarchiving of complicated BArchivable hierarchies.">BUnarchiver</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>This method <b>must</b> be called <b>before</b> a call to the archive constructor of your parent class.</dd></dl>
<p>Notice the use of this method in the example provided below. </p><div class="fragment"><div class="line">MyArchivableClas::MyArchivableClas(<a class="code hl_class" href="classBMessage.html">BMessage</a>* archive)</div>
<div class="line">    :</div>
<div class="line">    <a class="code hl_class" href="classBArchivable.html">BArchivable</a>(<a class="code hl_class" href="classBUnarchiver.html">BUnarchiver</a>::<a class="code hl_function" href="#acdd712bd85312bc7d36896e20b71b6b9">PrepareArchive</a>(archive))</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archive</td><td>The archive you wish to have prepared.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The same <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a> as is passed in.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

</div>
</div>
<a id="aa14b4974578f4a6587ce29d7408f722e" name="aa14b4974578f4a6587ce29d7408f722e"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/RelinquishOwnership" class="dashAnchor">&nbsp;</a><a href="#aa14b4974578f4a6587ce29d7408f722e">&#9670;&#160;</a></span>RelinquishOwnership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BUnarchiver::RelinquishOwnership </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBArchivable.html">BArchivable</a> *</td>          <td class="paramname"><span class="paramname"><em>archivable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Relinquish ownership of <em>archivable</em>. If <em>archivable</em> remains unclaimed at the end of the unarchiving session, it will be deleted (unless it is the root object). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archivable</td><td>The <em>archivable</em> object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>Haiku R1 </dd></dl>

<p class="reference">Referenced by <a class="el" href="#a65b5036350c00bb31cff5f484287071a">FindObject()</a>, and <a class="el" href="#a939359c608ad87dee82b073d0ac79517">GetObject()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - BUnarchiver Class Reference<br />
    Generated on Sat May 24 2025 23:12:19 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
