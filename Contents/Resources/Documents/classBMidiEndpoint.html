<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	<meta name="generator" content="Doxygen 1.12.0"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>The Haiku Book: BMidiEndpoint Class Reference</title>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<link href="doxygen.css" rel="stylesheet" type="text/css" />
	<link href="book.css" rel="stylesheet" type="text/css"/>
	</head>
<body>
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				API Documentation
			</span>
		</div>
	</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBMidiEndpoint-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BMidiEndpoint Class Reference<div class="ingroups"><a class="el" href="group__midi2.html">MIDI 2 Kit</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Base class for all MIDI endpoints.  
 <a href="#details">More...</a></p>

<p>Inherited by <a class="el" href="classBMidiConsumer.html">BMidiConsumer</a>, and <a class="el" href="classBMidiProducer.html">BMidiProducer</a>.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a504efce89310e4473c4a9ae77da7a641" id="r_a504efce89310e4473c4a9ae77da7a641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a504efce89310e4473c4a9ae77da7a641">Acquire</a> ()</td></tr>
<tr class="memdesc:a504efce89310e4473c4a9ae77da7a641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the endpoint's reference count.  <br /></td></tr>
<tr class="separator:a504efce89310e4473c4a9ae77da7a641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6c8dc7f451e7c908df05319f24a64f" id="r_a5c6c8dc7f451e7c908df05319f24a64f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c6c8dc7f451e7c908df05319f24a64f">GetProperties</a> (<a class="el" href="classBMessage.html">BMessage</a> *properties) const</td></tr>
<tr class="memdesc:a5c6c8dc7f451e7c908df05319f24a64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the properties of the endpoint.  <br /></td></tr>
<tr class="separator:a5c6c8dc7f451e7c908df05319f24a64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5b840617bf84cddbca779c470cef17" id="r_a3f5b840617bf84cddbca779c470cef17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f5b840617bf84cddbca779c470cef17">ID</a> () const</td></tr>
<tr class="memdesc:a3f5b840617bf84cddbca779c470cef17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ID of the endpoint.  <br /></td></tr>
<tr class="separator:a3f5b840617bf84cddbca779c470cef17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20fe83d79bd0d08cb818d3dda0fdc23" id="r_ae20fe83d79bd0d08cb818d3dda0fdc23"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae20fe83d79bd0d08cb818d3dda0fdc23">IsConsumer</a> () const</td></tr>
<tr class="memdesc:ae20fe83d79bd0d08cb818d3dda0fdc23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint is a <a class="el" href="classBMidiConsumer.html" title="Receives MIDI events from a producer.">BMidiConsumer</a>.  <br /></td></tr>
<tr class="separator:ae20fe83d79bd0d08cb818d3dda0fdc23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3edca82a4aa8bfa2aad3874cc9192b4d" id="r_a3edca82a4aa8bfa2aad3874cc9192b4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3edca82a4aa8bfa2aad3874cc9192b4d">IsLocal</a> () const</td></tr>
<tr class="memdesc:a3edca82a4aa8bfa2aad3874cc9192b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint represents a local object.  <br /></td></tr>
<tr class="separator:a3edca82a4aa8bfa2aad3874cc9192b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20623d6d71190a701e9bccc23e646e6a" id="r_a20623d6d71190a701e9bccc23e646e6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20623d6d71190a701e9bccc23e646e6a">IsPersistent</a> () const</td></tr>
<tr class="memdesc:a20623d6d71190a701e9bccc23e646e6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Not used.  <br /></td></tr>
<tr class="separator:a20623d6d71190a701e9bccc23e646e6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2555a377a070eaea225ca40b9e5bb696" id="r_a2555a377a070eaea225ca40b9e5bb696"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2555a377a070eaea225ca40b9e5bb696">IsProducer</a> () const</td></tr>
<tr class="memdesc:a2555a377a070eaea225ca40b9e5bb696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint is a <a class="el" href="classBMidiProducer.html" title="Streams MIDI events to connected consumers.">BMidiProducer</a>.  <br /></td></tr>
<tr class="separator:a2555a377a070eaea225ca40b9e5bb696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fc9a34aee618e137d9affcd67a7b36" id="r_a11fc9a34aee618e137d9affcd67a7b36"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11fc9a34aee618e137d9affcd67a7b36">IsRemote</a> () const</td></tr>
<tr class="memdesc:a11fc9a34aee618e137d9affcd67a7b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this endpoint is a proxy for a remote object.  <br /></td></tr>
<tr class="separator:a11fc9a34aee618e137d9affcd67a7b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9f93e72f5302f6f0c631e5a4f0ddb2" id="r_a0c9f93e72f5302f6f0c631e5a4f0ddb2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c9f93e72f5302f6f0c631e5a4f0ddb2">IsValid</a> () const</td></tr>
<tr class="memdesc:a0c9f93e72f5302f6f0c631e5a4f0ddb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the endpoint still exists.  <br /></td></tr>
<tr class="separator:a0c9f93e72f5302f6f0c631e5a4f0ddb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685e4d64cfbf56e30c7a3c5849fc72d8" id="r_a685e4d64cfbf56e30c7a3c5849fc72d8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a685e4d64cfbf56e30c7a3c5849fc72d8">Name</a> () const</td></tr>
<tr class="memdesc:a685e4d64cfbf56e30c7a3c5849fc72d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the endpoint.  <br /></td></tr>
<tr class="separator:a685e4d64cfbf56e30c7a3c5849fc72d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a818947b6098488a46e5a934d254186" id="r_a6a818947b6098488a46e5a934d254186"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a818947b6098488a46e5a934d254186">Register</a> ()</td></tr>
<tr class="memdesc:a6a818947b6098488a46e5a934d254186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes the endpoint on the roster.  <br /></td></tr>
<tr class="separator:a6a818947b6098488a46e5a934d254186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368ed2bdb2b76afe1466daf0cc0e2b08" id="r_a368ed2bdb2b76afe1466daf0cc0e2b08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08">Release</a> ()</td></tr>
<tr class="memdesc:a368ed2bdb2b76afe1466daf0cc0e2b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the endpoint's reference count.  <br /></td></tr>
<tr class="separator:a368ed2bdb2b76afe1466daf0cc0e2b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa167950f7b60558712224798f7e50aa" id="r_afa167950f7b60558712224798f7e50aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa167950f7b60558712224798f7e50aa">SetName</a> (const char *name)</td></tr>
<tr class="memdesc:afa167950f7b60558712224798f7e50aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the name of the endpoint.  <br /></td></tr>
<tr class="separator:afa167950f7b60558712224798f7e50aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cf2c701ba336b640067db743ba9746" id="r_a58cf2c701ba336b640067db743ba9746"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58cf2c701ba336b640067db743ba9746">SetProperties</a> (const <a class="el" href="classBMessage.html">BMessage</a> *properties)</td></tr>
<tr class="memdesc:a58cf2c701ba336b640067db743ba9746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the properties of the endpoint.  <br /></td></tr>
<tr class="separator:a58cf2c701ba336b640067db743ba9746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60d3fd6a9706a63f57851acf84db042" id="r_ad60d3fd6a9706a63f57851acf84db042"><td class="memItemLeft" align="right" valign="top"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad60d3fd6a9706a63f57851acf84db042">Unregister</a> ()</td></tr>
<tr class="memdesc:ad60d3fd6a9706a63f57851acf84db042"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hides the endpoint from the roster/.  <br /></td></tr>
<tr class="separator:ad60d3fd6a9706a63f57851acf84db042"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for all MIDI endpoints. </p>
<p><a class="el" href="classBMidiEndpoint.html" title="Base class for all MIDI endpoints.">BMidiEndpoint</a> is the abstract base class that represents either a producer or consumer endpoint. It may be used to obtain the state, name, properties, or system-wide ID of the object. <a class="el" href="classBMidiEndpoint.html" title="Base class for all MIDI endpoints.">BMidiEndpoint</a> also provides the ability to change the name and properties of endpoints that were created locally.</p>
<p>Remember, you cannot call the destructor of <a class="el" href="classBMidiEndpoint.html" title="Base class for all MIDI endpoints.">BMidiEndpoint</a> and its subclasses directly. Endpoint objects are destructed automatically when their reference count drops to zero. If necessary, the destructor of a local endpoint first breaks off any connections and <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a>'s the endpoint before it is deleted. However, for good style and bonus points you should really <a class="el" href="classBMidiProducer.html#a7f68b65fd703766a0fccb5d9535ea6ed">Disconnect() </a> and <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a> the object yourself and not rely on the destructor to do this. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a504efce89310e4473c4a9ae77da7a641" name="a504efce89310e4473c4a9ae77da7a641"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Acquire" class="dashAnchor">&nbsp;</a><a href="#a504efce89310e4473c4a9ae77da7a641">&#9670;&#160;</a></span>Acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMidiEndpoint::Acquire </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increments the endpoint's reference count. </p>
<p>Each <a class="el" href="classBMidiEndpoint.html" title="Base class for all MIDI endpoints.">BMidiEndpoint</a> has a reference count associated with it, so that <a class="el" href="classBMidiRoster.html" title="Interface to the system-wide Midi Roster.">BMidiRoster</a> can do proper bookkeeping. <a class="el" href="#a504efce89310e4473c4a9ae77da7a641" title="Increments the endpoint&#39;s reference count.">Acquire()</a> increments this reference count, and <a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a> decrements it. Once the count reaches zero, the endpoint is deleted.</p>
<p>When you are done with the endpoint, whether local or remote, you should always <a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a> it!</p>
<p>Upon construction, local endpoints start with a reference count of 1. Any objects you obtain from <a class="el" href="classBMidiRoster.html" title="Interface to the system-wide Midi Roster.">BMidiRoster</a> using the NextXXX() or FindXXX() functions have their reference counts incremented in the process. If you forget to call <a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a>, the objects won't be properly cleaned up and you'll make a fool out of yourself.</p>
<p>After you <a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a> an object, you are advised not to use it any further. If you do, your app will probably crash. That also happens if you <a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a> an object too many times.</p>
<p>Typically, you don't need to call <a class="el" href="#a504efce89310e4473c4a9ae77da7a641" title="Increments the endpoint&#39;s reference count.">Acquire()</a>, unless you have two disparate parts of your application working with the same endpoint, and you don't want to have to keep track of who needs to <a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a> the endpoint. Now you simply have both of them release it.</p>
<dl class="section return"><dt>Returns</dt><dd>Always returns B_OK</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a368ed2bdb2b76afe1466daf0cc0e2b08" title="Decrements the endpoint&#39;s reference count.">Release()</a> </dd></dl>

</div>
</div>
<a id="a5c6c8dc7f451e7c908df05319f24a64f" name="a5c6c8dc7f451e7c908df05319f24a64f"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/GetProperties" class="dashAnchor">&nbsp;</a><a href="#a5c6c8dc7f451e7c908df05319f24a64f">&#9670;&#160;</a></span>GetProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMidiEndpoint::GetProperties </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>props</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the properties of the endpoint. </p>
<p>Usage example:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classBMessage.html">BMessage</a> props;</div>
<div class="line"><span class="keywordflow">if</span> (endpoint-&gt;GetProperties(&amp;props) == B_OK)</div>
<div class="line">{</div>
<div class="line">    ...examine the contents of the message...</div>
<div class="line">}</div>
<div class="ttc" id="aclassBMessage_html"><div class="ttname"><a href="classBMessage.html">BMessage</a></div><div class="ttdoc">A container that can be send and received using the Haiku messaging subsystem.</div><div class="ttdef"><b>Definition</b> Message.h:56</div></div>
</div><!-- fragment --><p>Note that <a class="el" href="#a5c6c8dc7f451e7c908df05319f24a64f" title="Reads the properties of the endpoint.">GetProperties()</a> overwrites the contents of your <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a58cf2c701ba336b640067db743ba9746" title="Changes the properties of the endpoint.">SetProperties()</a> </dd></dl>

</div>
</div>
<a id="a3f5b840617bf84cddbca779c470cef17" name="a3f5b840617bf84cddbca779c470cef17"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/ID" class="dashAnchor">&nbsp;</a><a href="#a3f5b840617bf84cddbca779c470cef17">&#9670;&#160;</a></span>ID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#a87905854573530ba20766196388ad2a1">int32</a> BMidiEndpoint::ID </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the ID of the endpoint. </p>
<p>An ID uniquely identifies an endpoint in the system. The ID is a signed 32-bit number that is assigned by the Midi Server when the endpoint is created. (So even if a local endpoint is not published, it still has a unique ID.) Valid IDs range from 1 to 0x7FFFFFFF, the largest value an int32 can have. 0 and negative values are <b>not</b> valid IDs. </p>

</div>
</div>
<a id="ae20fe83d79bd0d08cb818d3dda0fdc23" name="ae20fe83d79bd0d08cb818d3dda0fdc23"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsConsumer" class="dashAnchor">&nbsp;</a><a href="#ae20fe83d79bd0d08cb818d3dda0fdc23">&#9670;&#160;</a></span>IsConsumer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMidiEndpoint::IsConsumer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether this endpoint is a <a class="el" href="classBMidiConsumer.html" title="Receives MIDI events from a producer.">BMidiConsumer</a>. </p>
<p>If it is, you can use a dynamic_cast to convert this object into a consumer:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (endp-&gt;IsConsumer())</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="classBMidiConsumer.html">BMidiConsumer</a>* cons = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classBMidiConsumer.html">BMidiConsumer</a>*<span class="keyword">&gt;</span>(endp);</div>
<div class="line"> </div>
<div class="line">    ....</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="aclassBMidiConsumer_html"><div class="ttname"><a href="classBMidiConsumer.html">BMidiConsumer</a></div><div class="ttdoc">Receives MIDI events from a producer.</div><div class="ttdef"><b>Definition</b> MidiConsumer.h:10</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a3edca82a4aa8bfa2aad3874cc9192b4d" name="a3edca82a4aa8bfa2aad3874cc9192b4d"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsLocal" class="dashAnchor">&nbsp;</a><a href="#a3edca82a4aa8bfa2aad3874cc9192b4d">&#9670;&#160;</a></span>IsLocal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMidiEndpoint::IsLocal </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether this endpoint represents a local object. </p>
<p>An endpoint is "local" when it is created by this application; in other words, a <a class="el" href="classBMidiLocalConsumer.html" title="A consumer endpoint that is created by your own application.">BMidiLocalConsumer</a> or <a class="el" href="classBMidiLocalProducer.html" title="A producer endpoint that is created by your own application.">BMidiLocalProducer</a>. </p>

</div>
</div>
<a id="a20623d6d71190a701e9bccc23e646e6a" name="a20623d6d71190a701e9bccc23e646e6a"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsPersistent" class="dashAnchor">&nbsp;</a><a href="#a20623d6d71190a701e9bccc23e646e6a">&#9670;&#160;</a></span>IsPersistent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMidiEndpoint::IsPersistent </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Not used. </p>
<p>The purpose of this function is unclear, and as a result it doesn't do anything in the Haiku Midi Kit implementation.</p>
<dl class="section return"><dt>Returns</dt><dd><code>false</code> always. </dd></dl>

</div>
</div>
<a id="a2555a377a070eaea225ca40b9e5bb696" name="a2555a377a070eaea225ca40b9e5bb696"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsProducer" class="dashAnchor">&nbsp;</a><a href="#a2555a377a070eaea225ca40b9e5bb696">&#9670;&#160;</a></span>IsProducer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMidiEndpoint::IsProducer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether this endpoint is a <a class="el" href="classBMidiProducer.html" title="Streams MIDI events to connected consumers.">BMidiProducer</a>. </p>
<p>If it is, you can use a dynamic_cast to convert this object into a producer:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (endp-&gt;IsProducer())</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_class" href="classBMidiProducer.html">BMidiProducer</a>* prod = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="classBMidiProducer.html">BMidiProducer</a>*<span class="keyword">&gt;</span>(endp);</div>
<div class="line"> </div>
<div class="line">    ....</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="aclassBMidiProducer_html"><div class="ttname"><a href="classBMidiProducer.html">BMidiProducer</a></div><div class="ttdoc">Streams MIDI events to connected consumers.</div><div class="ttdef"><b>Definition</b> MidiProducer.h:12</div></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a11fc9a34aee618e137d9affcd67a7b36" name="a11fc9a34aee618e137d9affcd67a7b36"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsRemote" class="dashAnchor">&nbsp;</a><a href="#a11fc9a34aee618e137d9affcd67a7b36">&#9670;&#160;</a></span>IsRemote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMidiEndpoint::IsRemote </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether this endpoint is a proxy for a remote object. </p>
<p>An endpoint is "remote" when it is created by another application. Obviously, the remote object is <a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a>'ed as well, otherwise you would not be able to see it. </p>

</div>
</div>
<a id="a0c9f93e72f5302f6f0c631e5a4f0ddb2" name="a0c9f93e72f5302f6f0c631e5a4f0ddb2"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/IsValid" class="dashAnchor">&nbsp;</a><a href="#a0c9f93e72f5302f6f0c631e5a4f0ddb2">&#9670;&#160;</a></span>IsValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BMidiEndpoint::IsValid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the endpoint still exists. </p>
<p>Suppose you obtained a proxy object for a remote endpoint by querying the <a class="el" href="classBMidiRoster.html" title="Interface to the system-wide Midi Roster.">BMidiRoster</a>. What if the application that published this endpoint quits, or less drastically, <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a>'s that endpoint? Even though you still have a <a class="el" href="classBMidiEndpoint.html" title="Base class for all MIDI endpoints.">BMidiEndpoint</a> proxy object, the real endpoint no longer exists. You can use <a class="el" href="#a0c9f93e72f5302f6f0c631e5a4f0ddb2" title="Determines whether the endpoint still exists.">IsValid()</a> to check for this.</p>
<p>Don't worry, operations on invalid objects, such as <a class="el" href="#a5c6c8dc7f451e7c908df05319f24a64f" title="Reads the properties of the endpoint.">GetProperties()</a>, will return an error code (typically B_ERROR), but not cause a crash. Local objects are always are considered to be valid, even if you did not <a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a> them. (The only time a local endpoint is not valid is when there was a problem constructing it.)</p>
<p>If the application that created the remote endpoint crashes, then there is no guarantee that the Midi Server immediately recognizes this. In that case, <a class="el" href="#a0c9f93e72f5302f6f0c631e5a4f0ddb2" title="Determines whether the endpoint still exists.">IsValid()</a> may still return true. Eventually, the stale endpoint will be removed from the roster, though. From then on, <a class="el" href="#a0c9f93e72f5302f6f0c631e5a4f0ddb2" title="Determines whether the endpoint still exists.">IsValid()</a> correctly returns <code>false</code>. </p>

</div>
</div>
<a id="a685e4d64cfbf56e30c7a3c5849fc72d8" name="a685e4d64cfbf56e30c7a3c5849fc72d8"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Name" class="dashAnchor">&nbsp;</a><a href="#a685e4d64cfbf56e30c7a3c5849fc72d8">&#9670;&#160;</a></span>Name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * BMidiEndpoint::Name </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of the endpoint. </p>
<p>The function never returns NULL. If you created a local endpoint by passing a <code>NULL</code> name into its constructor (or passing no name, which is the same thing), then <a class="el" href="#a685e4d64cfbf56e30c7a3c5849fc72d8" title="Returns the name of the endpoint.">Name()</a> will return an empty string, not <code>NULL</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afa167950f7b60558712224798f7e50aa" title="Changes the name of the endpoint.">SetName()</a> </dd></dl>

</div>
</div>
<a id="a6a818947b6098488a46e5a934d254186" name="a6a818947b6098488a46e5a934d254186"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Register" class="dashAnchor">&nbsp;</a><a href="#a6a818947b6098488a46e5a934d254186">&#9670;&#160;</a></span>Register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMidiEndpoint::Register </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publishes the endpoint on the roster. </p>
<p>MIDI objects created by an application are invisible to other applications until they are published. To publish an object use the <a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a> method. The corresponding <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a> method will cause an object to once again become invisible to remote applications.</p>
<p><a class="el" href="classBMidiRoster.html" title="Interface to the system-wide Midi Roster.">BMidiRoster</a> also has <a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a> and <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a> methods. You may also use those methods to publish or hide your endpoints; both do the same thing.</p>
<p>Although it is considered bad style, calling <a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a> on local endpoints that are already registered won't mess things up. The Midi Server will simply ignore your request. Likewise for <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a>'ing more than once. Attempts to <a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a> or <a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a> remote endpoints will fail, of course.</p>
<p>If you are <a class="el" href="classBMidiRoster.html#a1a15990bd1411a408549eb5db0fa937e">watching </a>, you will <b>not</b> receive notifications for any local endpoints you register or unregister. Of course, other applications <em>will</em> be notified about your endpoints.</p>
<p>Existing connections will not be broken when an object is unregistered, but future remote connections will be denied. When objects are destroyed, they automatically become unregistered.</p>
<dl class="section return"><dt>Returns</dt><dd>B_OK on success, or an error code (typically <code>B_ERROR</code>) if something went wrong.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad60d3fd6a9706a63f57851acf84db042" title="Hides the endpoint from the roster/.">Unregister()</a> </dd></dl>

</div>
</div>
<a id="a368ed2bdb2b76afe1466daf0cc0e2b08" name="a368ed2bdb2b76afe1466daf0cc0e2b08"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Release" class="dashAnchor">&nbsp;</a><a href="#a368ed2bdb2b76afe1466daf0cc0e2b08">&#9670;&#160;</a></span>Release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMidiEndpoint::Release </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decrements the endpoint's reference count. </p>
<dl class="section return"><dt>Returns</dt><dd>Always returns B_OK</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a504efce89310e4473c4a9ae77da7a641" title="Increments the endpoint&#39;s reference count.">Acquire()</a> </dd></dl>

</div>
</div>
<a id="afa167950f7b60558712224798f7e50aa" name="afa167950f7b60558712224798f7e50aa"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/SetName" class="dashAnchor">&nbsp;</a><a href="#afa167950f7b60558712224798f7e50aa">&#9670;&#160;</a></span>SetName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BMidiEndpoint::SetName </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the name of the endpoint. </p>
<p>Names don't have to be unique, but it is recommended that you give any endpoints you publish meaningful and unique names, so users can easily recognize what each endpoint does. There is no limit to the size of endpoint names.</p>
<p>Even though you can call this function on both remote and local objects, you are only allowed to change the names of local endpoints; <a class="el" href="#afa167950f7b60558712224798f7e50aa" title="Changes the name of the endpoint.">SetName()</a> calls on remote endpoints are ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The new name. If you pass <code>NULL</code> the name won't be changed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a685e4d64cfbf56e30c7a3c5849fc72d8" title="Returns the name of the endpoint.">Name()</a> </dd></dl>

</div>
</div>
<a id="a58cf2c701ba336b640067db743ba9746" name="a58cf2c701ba336b640067db743ba9746"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/SetProperties" class="dashAnchor">&nbsp;</a><a href="#a58cf2c701ba336b640067db743ba9746">&#9670;&#160;</a></span>SetProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMidiEndpoint::SetProperties </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBMessage.html">BMessage</a> *</td>          <td class="paramname"><span class="paramname"><em>props</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the properties of the endpoint. </p>
<p>Endpoints can have properties, which is any kind of information that might be useful to associate with a MIDI object. The properties are stored in a <a class="el" href="classBMessage.html" title="A container that can be send and received using the Haiku messaging subsystem.">BMessage</a>.</p>
<p>Usage example:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classBMessage.html">BMessage</a> props;</div>
<div class="line"><span class="keywordflow">if</span> (endpoint-&gt;GetProperties(&amp;props) == B_OK)</div>
<div class="line">{</div>
<div class="line">    ...add data to the message...</div>
<div class="line">    endpoint-&gt;SetProperties(&amp;props);</div>
<div class="line">}</div>
</div><!-- fragment --><p>You are only allowed to call <a class="el" href="#a58cf2c701ba336b640067db743ba9746" title="Changes the properties of the endpoint.">SetProperties()</a> on a local object.</p>
<p>Properties should follow a protocol, so different applications will know how to read each other's properties. The current protocol is very limited &ndash; it only allows you to associate icons with your endpoints. Be planned to publish a more complete protocol that included additional information, such as vendor/model names, copyright/version info, category, etc., but they never got around to it.</p>
<table border="1">
<tr>
<td>property</td><td>Vector icon (raw data) </td></tr>
<tr>
<td>field name</td><td>"icon" </td></tr>
<tr>
<td>field type</td><td>'VICN' </td></tr>
</table>
<p>This vector icon is available under Haiku only, and comes as raw data, not a <a class="el" href="classBBitmap.html" title="Access and manipulate digital images commonly known as bitmaps.">BBitmap</a>. Before being able to display it, you first must render the vector icon in the size of your choice.</p>
<table border="1">
<tr>
<td>property</td><td>Large (32x32) icon </td></tr>
<tr>
<td>field name</td><td>"be:large_icon" </td></tr>
<tr>
<td>field type</td><td>'ICON' </td></tr>
</table>
<table border="1">
<tr>
<td>property</td><td>Small (16x16) icon </td></tr>
<tr>
<td>field name</td><td>"be:mini_icon" </td></tr>
<tr>
<td>field type</td><td>'MICN' </td></tr>
</table>
<p>The MidiUtil package (downloadable from <a href="https://www.haiku-os.org/files/MidiUtil-1_0.zip">https://www.haiku-os.org/files/MidiUtil-1_0.zip</a>) contains a number of convenient functions to associate icons with endpoints, so you don't have to write that code all over again.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5c6c8dc7f451e7c908df05319f24a64f" title="Reads the properties of the endpoint.">GetProperties()</a> </dd></dl>

</div>
</div>
<a id="ad60d3fd6a9706a63f57851acf84db042" name="ad60d3fd6a9706a63f57851acf84db042"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/Unregister" class="dashAnchor">&nbsp;</a><a href="#ad60d3fd6a9706a63f57851acf84db042">&#9670;&#160;</a></span>Unregister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="SupportDefs_8h.html#ab6735558965995709a53691ae913c81b">status_t</a> BMidiEndpoint::Unregister </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hides the endpoint from the roster/. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a6a818947b6098488a46e5a934d254186" title="Publishes the endpoint on the roster.">Register()</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    The Haiku Book pre-R1 - BMidiEndpoint Class Reference<br />
    Generated on Sat May 24 2025 23:12:18 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.12.0
  </small></address>
</body>
</html>
